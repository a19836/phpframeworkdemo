<?php
/*
 * Copyright (c) 2007 PHPMyFrameWork - Joao Pinto
 * AUTHOR: Joao Paulo Lopes Pinto -- http://jplpinto.com
 * 
 * The use of this code must be allowed first by the creator Joao Pinto, since this is a private and proprietary code.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS 
 * OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY 
 * AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR 
 * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL 
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, 
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER 
 * IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT 
 * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. IN NO EVENT SHALL 
 * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN 
 * AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE 
 * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */

include_once get_lib("org.phpframework.util.web.html.HtmlFormHandler"); class SimpleHtmlFormHandler { public function getListHtml($v30857f7eca) { $pb8c0935b = isset($v30857f7eca["title"]) ? $v30857f7eca["title"] : null; $v3ae55a9a2e = isset($v30857f7eca["class"]) ? $v30857f7eca["class"] : null; $v21853a7741 = !empty($v30857f7eca["title_class"]) ? $v30857f7eca["title_class"] : "title"; $v539082ff30 = isset($v30857f7eca["data"]) ? $v30857f7eca["data"] : null; $v7318c82bdf = !empty($v30857f7eca["empty_list_message"]) ? $v30857f7eca["empty_list_message"] : "There are no available items..."; $v30d38c7973 = self::getListSettings($v30857f7eca); $pf8ed4912 = '<div class="' . $v3ae55a9a2e . '">
				<div class="' . $v21853a7741 . '">' . $pb8c0935b . '</div>'; $pf8ed4912 .= HtmlFormHandler::createHtmlForm($v30d38c7973, $v539082ff30); $pf8ed4912 .= empty($v539082ff30) ? '<div class="empty_table">' . $v7318c82bdf . '</div>' : ''; $pf8ed4912 .= '</div>'; return $pf8ed4912; } public function getFormHtml($v30857f7eca) { $pb8c0935b = isset($v30857f7eca["title"]) ? $v30857f7eca["title"] : null; $v3ae55a9a2e = isset($v30857f7eca["class"]) ? $v30857f7eca["class"] : null; $v21853a7741 = !empty($v30857f7eca["title_class"]) ? $v30857f7eca["title_class"] : "title"; $v1f2559b2d2 = !empty($v30857f7eca["status_message_class"]) ? $v30857f7eca["status_message_class"] : "status_message"; $v0cb559b093 = !empty($v30857f7eca["error_message_class"]) ? $v30857f7eca["error_message_class"] : "error_message"; $v539082ff30 = isset($v30857f7eca["data"]) ? $v30857f7eca["data"] : null; $v5755f5d954 = isset($v30857f7eca["status_message"]) ? $v30857f7eca["status_message"] : null; $pef612b9d = isset($v30857f7eca["error_message"]) ? $v30857f7eca["error_message"] : null; $v30d38c7973 = self::getFormSettings($v30857f7eca); $pf8ed4912 = '<div class="' . $v3ae55a9a2e . '">
				<div class="' . $v21853a7741 . '">' . $pb8c0935b . '</div>'; if ($v5755f5d954) { $pf8ed4912 .= '<div class="' . $v1f2559b2d2 . '">' . $v5755f5d954 . '</div>'; } if ($pef612b9d) { $pf8ed4912 .= '<div class="' . $v0cb559b093 . '">' . $pef612b9d . '</div>'; } if (empty($_POST["delete"]) || $pef612b9d) $pf8ed4912 .= HtmlFormHandler::createHtmlForm($v30d38c7973, $v539082ff30); $pf8ed4912 .= '</div>'; return $pf8ed4912; } public static function getListSettings($v30857f7eca) { $v3cf156bbc0 = isset($v30857f7eca["edit_url"]) ? $v30857f7eca["edit_url"] : null; $v9849b84441 = isset($v30857f7eca["delete_url"]) ? $v30857f7eca["delete_url"] : null; $v8da6ad52f6 = isset($v30857f7eca["other_urls"]) ? $v30857f7eca["other_urls"] : null; $v86e5d83e26 = isset($v30857f7eca["fields"]) ? $v30857f7eca["fields"] : null; $v539082ff30 = isset($v30857f7eca["data"]) ? $v30857f7eca["data"] : null; $v16ac35fd79 = isset($v30857f7eca["total"]) ? $v30857f7eca["total"] : null; $v8c3a6f7f08 = isset($v30857f7eca["current_page"]) ? $v30857f7eca["current_page"] : null; $v19429f8570 = !empty($v30857f7eca["rows_per_page"]) ? $v30857f7eca["rows_per_page"] : 50; $pf8ed4912 = ''; $pdfa15f64 = array(); if (is_array($v86e5d83e26)) { foreach ($v86e5d83e26 as $v4ef49e289c => $v5d170b1de6) { $v4ef49e289c = is_string($v4ef49e289c) && !is_numeric($v4ef49e289c) ? $v4ef49e289c : null; if (!$v4ef49e289c && is_string($v5d170b1de6) && !is_numeric($v5d170b1de6)) { $v4ef49e289c = $v5d170b1de6; unset($v5d170b1de6); } $pdfa15f64[] = self::getFieldElementSettings($v5d170b1de6, $v4ef49e289c, "list_column"); } } if ($v3cf156bbc0) { $pdfa15f64[] = array( "field" => array( "class" => "list_column edit_action", "input" => array( "type" => "link", "value" => "", "href" => $v3cf156bbc0, "extra_attributes" => array( 0 => array( "name" => "class", "value" => "glyphicon glyphicon-pencil icon edit" ), 1 => array( "name" => "title", "value" => "Edit" ) ), ) ) ); } if ($v9849b84441) { $pdfa15f64[] = array( "field" => array( "class" => "list_column delete_action", "input" => array( "type" => "link", "value" => "", "href" => "#", "extra_attributes" => array( 0 => array( "name" => "onClick", "value" => "deleteItem(this, '$v9849b84441')" ), 1 => array( "name" => "class", "value" => "glyphicon glyphicon-remove icon delete" ), 2 => array( "name" => "title", "value" => "Remove" ) ), ) ) ); } if ($v8da6ad52f6) { foreach ($v8da6ad52f6 as $pd4cff4ba) { $v6f3a2700dd = $pd4cff4ba; $v3ae55a9a2e = ""; $v9acc88059e = ""; $pb8c0935b = ""; if (is_array($pd4cff4ba)) { $v6f3a2700dd = isset($pd4cff4ba["url"]) ? $pd4cff4ba["url"] : null; $v3ae55a9a2e = isset($pd4cff4ba["class"]) ? $pd4cff4ba["class"] : null; $v9acc88059e = isset($pd4cff4ba["label"]) ? $pd4cff4ba["label"] : null; $pb8c0935b = isset($pd4cff4ba["title"]) ? $pd4cff4ba["title"] : null; } $pdfa15f64[] = array( "field" => array( "class" => "list_column other_action $v3ae55a9a2e", "input" => array( "type" => "link", "value" => $v9acc88059e, "href" => $v6f3a2700dd, "extra_attributes" => array( 0 => array( "name" => "class", "value" => "icon" ), 1 => array( "name" => "title", "value" => $pb8c0935b ) ), ) ) ); } } $v30d38c7973 = array( "with_form" => 0, "form_containers" => array( 0 => array( "container" => array( "class" => "list_items", "previous_html" => isset($v30857f7eca["previous_html"]) ? $v30857f7eca["previous_html"] : "", "next_html" => isset($v30857f7eca["next_html"]) ? $v30857f7eca["next_html"] : "", "elements" => array( 0 => array( "container" => array( "class" => "top_pagination", "elements" => array( 0 => array( "pagination" => array( "pagination_template" => "design1", "rows_per_page" => $v19429f8570, "page_number" => $v8c3a6f7f08, "max_num_of_shown_pages" => "10", "total_rows" => $v16ac35fd79, "page_attr_name" => "current_page" ) ) ) ) ), 1 => array( "container" => array( "class" => "list_container", "previous_html" => "", "next_html" => "", "elements" => array( 0 => array( "table" => array( "table_class" => "list_table " . (isset($v30857f7eca["table_class"]) ? $v30857f7eca["table_class"] : ""), "rows_class" => isset($v30857f7eca["rows_class"]) ? $v30857f7eca["rows_class"] : null, "elements" => $pdfa15f64 ) ) ) ) ), 2 => array( "container" => array( "class" => "bottom_pagination", "elements" => array( 0 => array( "pagination" => array( "pagination_template" => "design1", "rows_per_page" => $v19429f8570, "page_number" => $v8c3a6f7f08, "max_num_of_shown_pages" => "10", "total_rows" => $v16ac35fd79, "page_attr_name" => "current_page" ) ) ) ) ), ) ) ), ) ); return $v30d38c7973; } public static function getFormSettings($v30857f7eca) { $v86e5d83e26 = isset($v30857f7eca["fields"]) ? $v30857f7eca["fields"] : null; $v539082ff30 = isset($v30857f7eca["data"]) ? $v30857f7eca["data"] : null; $v31398733fd = isset($v30857f7eca["default_data"]) ? $v30857f7eca["default_data"] : null; $v5755f5d954 = isset($v30857f7eca["status_message"]) ? $v30857f7eca["status_message"] : null; $pef612b9d = isset($v30857f7eca["error_message"]) ? $v30857f7eca["error_message"] : null; $pf8ed4912 = ''; $pf142110d = array(); $pdfa15f64 = array(); if ($v539082ff30) { $pf142110d[] = array( "field" => array( "class" => "submit_button submit_button_save", "input" => array( "type" => "submit", "name" => "save", "value" => "Save", ) ) ); $pf142110d[] = array( "field" => array( "class" => "submit_button submit_button_delete", "input" => array( "type" => "submit", "name" => "delete", "value" => "Delete", "extra_attributes" => array( 0 => array( "name" => "onClick", "value" => "return confirm('Do you wish to delete this item?');" ), ) ) ) ); } else { $pf142110d[] = array( "field" => array( "class" => "submit_button submit_button_add", "input" => array( "type" => "submit", "name" => "add", "value" => "Add", ) ) ); } if (is_array($v86e5d83e26)) { foreach ($v86e5d83e26 as $v4ef49e289c => $v5d170b1de6) { $v4ef49e289c = is_string($v4ef49e289c) && !is_numeric($v4ef49e289c) ? $v4ef49e289c : null; $v06f2bc39aa = self::getFieldElementSettings($v5d170b1de6, $v4ef49e289c, "form_field"); if (!$v539082ff30) { $pd6bf10d2 = is_array($v31398733fd) && array_key_exists($v4ef49e289c, $v31398733fd) ? $v31398733fd[$v4ef49e289c] : ""; if (!empty($v06f2bc39aa["container"])) $v06f2bc39aa["container"]["elements"][0]["field"]["input"]["value"] = $pd6bf10d2; else $v06f2bc39aa["field"]["input"]["value"] = $pd6bf10d2; } $pdfa15f64[] = $v06f2bc39aa; } } $v30d38c7973 = array( "with_form" => isset($v30857f7eca["with_form"]) ? $v30857f7eca["with_form"] : 1, "form_id" => isset($v30857f7eca["form_id"]) ? $v30857f7eca["form_id"] : "", "form_method" => isset($v30857f7eca["form_method"]) ? $v30857f7eca["form_method"] : "post", "form_class" => isset($v30857f7eca["form_class"]) ? $v30857f7eca["form_class"] : "", "form_type" => isset($v30857f7eca["form_type"]) ? $v30857f7eca["form_type"] : "", "form_on_submit" => isset($v30857f7eca["form_on_submit"]) ? $v30857f7eca["form_on_submit"] : "", "form_action" => isset($v30857f7eca["form_action"]) ? $v30857f7eca["form_action"] : "", "form_containers" => array( 0 => array( "container" => array( "class" => "form_fields", "previous_html" => isset($v30857f7eca["previous_html"]) ? $v30857f7eca["previous_html"] : "", "next_html" => isset($v30857f7eca["next_html"]) ? $v30857f7eca["next_html"] : "", "elements" => $pdfa15f64 ) ), 1 => array( "container" => array( "class" => "buttons", "elements" => $pf142110d ) ), ) ); return $v30d38c7973; } public static function getFieldElementSettings($v5d170b1de6, $v4ef49e289c, $pd9c0132c) { $v3fb9f41470 = $v5d170b1de6; $v3ae55a9a2e = null; $v63967fdd7c = null; $v2de4fbd75c = null; $v9935cc91ac = null; $v9acc88059e = null; $pb68fe9b3 = $v4ef49e289c; if (is_array($v5d170b1de6)) { $v3fb9f41470 = isset($v5d170b1de6["type"]) ? $v5d170b1de6["type"] : null; $v3ae55a9a2e = isset($v5d170b1de6["class"]) ? $v5d170b1de6["class"] : null; $v63967fdd7c = isset($v5d170b1de6["href"]) ? $v5d170b1de6["href"] : null; $v2de4fbd75c = isset($v5d170b1de6["previous_html"]) ? $v5d170b1de6["previous_html"] : null; $v9935cc91ac = isset($v5d170b1de6["next_html"]) ? $v5d170b1de6["next_html"] : null; $v9acc88059e = isset($v5d170b1de6["label"]) ? $v5d170b1de6["label"] : null; if (!empty($v5d170b1de6["name"])) { $pb68fe9b3 = $v5d170b1de6["name"]; if (is_numeric($v4ef49e289c) || empty($v4ef49e289c)) $v4ef49e289c = $pb68fe9b3; unset($v5d170b1de6["name"]); } unset($v5d170b1de6["type"]); unset($v5d170b1de6["class"]); unset($v5d170b1de6["href"]); unset($v5d170b1de6["previous_html"]); unset($v5d170b1de6["next_html"]); unset($v5d170b1de6["label"]); } if (!$v3fb9f41470) { $v3fb9f41470 = "label"; } $pa353385e = strpos($pd9c0132c, "form_field") !== false; if ($v4ef49e289c) { $pb21e5126 = $pa353385e ? "#$v4ef49e289c#" : "#[\$idx][$v4ef49e289c]#"; $v9acc88059e = isset($v9acc88059e) ? $v9acc88059e : ucwords(strtolower(str_replace("_", " ", $v4ef49e289c))) . ($pa353385e ? ": " : ""); } $v06f2bc39aa = array( "field" => array( "label" => array( "value" => $v9acc88059e, ), "input" => array( "type" => $v3fb9f41470, "name" => $pb68fe9b3, "value" => $pb21e5126, ) ) ); if (is_array($v5d170b1de6)) { foreach ($v5d170b1de6 as $v5e45ec9bb9 => $pd6321fb0) { $v06f2bc39aa["field"]["input"][$v5e45ec9bb9] = $pd6321fb0; } } if ($v3fb9f41470 == "checkbox" || $v3fb9f41470 == "radio") { $v7959970a41 = false; if (!isset($v06f2bc39aa["field"]["input"]["extra_attributes"]) || !is_array($v06f2bc39aa["field"]["input"]["extra_attributes"])) $v06f2bc39aa["field"]["input"]["extra_attributes"] = array(); foreach ($v06f2bc39aa["field"]["input"]["extra_attributes"] as $pd69fb7d0 => $pa198a1a2) if (is_array($pa198a1a2) && $pa198a1a2["name"] == "class") { $v06f2bc39aa["field"]["input"]["extra_attributes"][$pd69fb7d0]["value"] .= " checkbox"; $v7959970a41 = true; break; } if (!$v7959970a41) $v06f2bc39aa["field"]["input"]["extra_attributes"][] = array("name" => "class", "value" => "checkbox"); } if ($v63967fdd7c || $v2de4fbd75c || $v9935cc91ac) { $v06f2bc39aa = array( "container" => array( "class" => "$pd9c0132c $v4ef49e289c $v3ae55a9a2e", "href" => $v63967fdd7c, "elements" => array($v06f2bc39aa), "previous_html" => $v2de4fbd75c, "next_html" => $v9935cc91ac, ) ); } else { $v06f2bc39aa["field"]["class"] = "$pd9c0132c $v4ef49e289c $v3ae55a9a2e"; } return $v06f2bc39aa; } } ?>
