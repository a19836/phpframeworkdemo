<?php
/*
 * Copyright (c) 2007 PHPMyFrameWork - Joao Pinto
 * AUTHOR: Joao Paulo Lopes Pinto -- http://jplpinto.com
 * 
 * The use of this code must be allowed first by the creator Joao Pinto, since this is a private and proprietary code.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS 
 * OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY 
 * AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR 
 * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL 
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, 
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER 
 * IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT 
 * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. IN NO EVENT SHALL 
 * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN 
 * AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE 
 * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
include_once get_lib("org.phpframework.testunit.ITestUnit"); abstract class TestUnit implements ITestUnit { protected $bean_objects = array(); protected $layers_objs = array(); protected $errors = array(); public function setBeanObjects($pd8dc8ad3) { $this->bean_objects = $pd8dc8ad3; $this->parseBeanObjects($pd8dc8ad3); } public function addBeanObjects($pd8dc8ad3) { $this->bean_objects = array_merge($this->bean_objects, $pd8dc8ad3); $this->parseBeanObjects($pd8dc8ad3); } public function parseBeanObjects($pd8dc8ad3) { if ($pd8dc8ad3) foreach ($pd8dc8ad3 as $v8ffce2a791 => $v972f1a5c2b) { if (is_a($v972f1a5c2b, "ILayer")) { if (is_a($v972f1a5c2b, "DBLayer")) { $v5e813b295b = substr($v8ffce2a791, - strlen("DBLayer")) == "DBLayer" ? substr($v8ffce2a791, 0, strlen($v8ffce2a791) - strlen("DBLayer")) : $v8ffce2a791; $v5e813b295b = WorkFlowBeansConverter::getBrokerNameFromRawLabel($v5e813b295b); $this->setLayerObject("db_layers", $v5e813b295b, $v972f1a5c2b); } else if (is_a($v972f1a5c2b, "IbatisDataAccessLayer")) { $v5e813b295b = substr($v8ffce2a791, - strlen("IDALayer")) == "IDALayer" ? substr($v8ffce2a791, 0, strlen($v8ffce2a791) - strlen("IDALayer")) : $v8ffce2a791; $v5e813b295b = WorkFlowBeansConverter::getBrokerNameFromRawLabel($v5e813b295b); $this->setLayerObject("ibatis_layers", $v5e813b295b, $v972f1a5c2b); } else if (is_a($v972f1a5c2b, "HibernateDataAccessLayer")) { $v5e813b295b = substr($v8ffce2a791, - strlen("HDALayer")) == "HDALayer" ? substr($v8ffce2a791, 0, strlen($v8ffce2a791) - strlen("HDALayer")) : $v8ffce2a791; $v5e813b295b = WorkFlowBeansConverter::getBrokerNameFromRawLabel($v5e813b295b); $this->setLayerObject("hibernate_layers", $v5e813b295b, $v972f1a5c2b); } else if (is_a($v972f1a5c2b, "BusinessLogicLayer")) { $v5e813b295b = substr($v8ffce2a791, - strlen("BLLayer")) == "BLLayer" ? substr($v8ffce2a791, 0, strlen($v8ffce2a791) - strlen("BLLayer")) : $v8ffce2a791; $v5e813b295b = WorkFlowBeansConverter::getBrokerNameFromRawLabel($v5e813b295b); $this->setLayerObject("business_logic_layers", $v5e813b295b, $v972f1a5c2b); } else if (is_a($v972f1a5c2b, "PresentationLayer")) { $v5e813b295b = substr($v8ffce2a791, - strlen("PLayer")) == "PLayer" ? substr($v8ffce2a791, 0, strlen($v8ffce2a791) - strlen("PLayer")) : $v8ffce2a791; $v5e813b295b = WorkFlowBeansConverter::getBrokerNameFromRawLabel($v5e813b295b); $this->setLayerObject("presentation_layers", $v5e813b295b, $v972f1a5c2b); } } else if (is_a($v972f1a5c2b, "EVC")) { $pbf61d117 = null; if ($pdec569fb->properties) foreach ($pdec569fb->properties as $v1654ac0a73) if ($v1654ac0a73->name == "presentationLayer") { $pbf61d117 = $v1654ac0a73->reference; break; } if ($pbf61d117) { $v5e813b295b = substr($pbf61d117, - strlen("PLayer")) == "PLayer" ? substr($pbf61d117, 0, strlen($pbf61d117) - strlen("PLayer")) : $pbf61d117; $v5e813b295b = WorkFlowBeansConverter::getBrokerNameFromRawLabel($v5e813b295b); $this->setLayerObject("presentation_layers_evc", $v5e813b295b, $v972f1a5c2b); } } else if (is_a($v972f1a5c2b, "DB")) { $v5e813b295b = WorkFlowBeansConverter::getBrokerNameFromRawLabel($v8ffce2a791); $this->setLayerObject("db_drivers", $v5e813b295b, $v972f1a5c2b); } } } public function getLayersObjects() { return $this->layers_objs; } public function setLayerObject($v3fb9f41470, $v5e813b295b, $v972f1a5c2b) { $this->layers_objs[$v3fb9f41470][$v5e813b295b] = $v972f1a5c2b; if ($v3fb9f41470 == "ibatis_layers" || $v3fb9f41470 == "hibernate_layers") $this->layers_objs["data_access_layers"][$v5e813b295b] = $v972f1a5c2b; } public function getLayerObject($v3fb9f41470, $v5e813b295b = null) { $this->mdf072a5be0e8($v3fb9f41470, $v5e813b295b); return isset($this->layers_objs[$v3fb9f41470][$v5e813b295b]) ? $this->layers_objs[$v3fb9f41470][$v5e813b295b] : null; } public function getDBDriver($v5e813b295b = null) { $this->mdf072a5be0e8("db_drivers", $v5e813b295b); return isset($this->layers_objs["db_drivers"][$v5e813b295b]) ? $this->layers_objs["db_drivers"][$v5e813b295b] : null; } public function getDBLayer($v5e813b295b = null) { $this->mdf072a5be0e8("db_layers", $v5e813b295b); return isset($this->layers_objs["db_layers"][$v5e813b295b]) ? $this->layers_objs["db_layers"][$v5e813b295b] : null; } public function getDataAcessLayer($v5e813b295b = null) { $this->mdf072a5be0e8("data_access_layers", $v5e813b295b); return isset($this->layers_objs["data_access_layers"][$v5e813b295b]) ? $this->layers_objs["data_access_layers"][$v5e813b295b] : null; } public function getIbatisLayer($v5e813b295b = null) { $this->mdf072a5be0e8("ibatis_layers", $v5e813b295b); return isset($this->layers_objs["ibatis_layers"][$v5e813b295b]) ? $this->layers_objs["ibatis_layers"][$v5e813b295b] : null; } public function getHibernateLayer($v5e813b295b = null) { $this->mdf072a5be0e8("hibernate_layers", $v5e813b295b); return isset($this->layers_objs["hibernate_layers"][$v5e813b295b]) ? $this->layers_objs["hibernate_layers"][$v5e813b295b] : null; } public function getBusinessLogicLayer($v5e813b295b = null) { $this->mdf072a5be0e8("business_logic_layers", $v5e813b295b); return isset($this->layers_objs["business_logic_layers"][$v5e813b295b]) ? $this->layers_objs["business_logic_layers"][$v5e813b295b] : null; } public function getPresentationLayer($v5e813b295b = null) { $this->mdf072a5be0e8("presentation_layers", $v5e813b295b); return isset($this->layers_objs["presentation_layers"][$v5e813b295b]) ? $this->layers_objs["presentation_layers"][$v5e813b295b] : null; } public function getPresentationLayerEVC($v5e813b295b = null) { $this->mdf072a5be0e8("presentation_layers_evc", $v5e813b295b); return isset($this->layers_objs["presentation_layers_evc"][$v5e813b295b]) ? $this->layers_objs["presentation_layers_evc"][$v5e813b295b] : null; } private function mdf072a5be0e8($v3fb9f41470, &$v5e813b295b) { if (!$v5e813b295b && isset($this->layers_objs[$v3fb9f41470]) && is_array($this->layers_objs[$v3fb9f41470])) { $v9994512d98 = array_keys($this->layers_objs[$v3fb9f41470]); $v5e813b295b = $v9994512d98[0]; } } public function addError($v0f9512fda4) { $this->errors[] = $v0f9512fda4; } public function setErrors($v8a29987473) { $this->errors = $v8a29987473; } public function getErrors() { return $this->errors; } } ?>
