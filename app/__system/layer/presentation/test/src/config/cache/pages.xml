<?xml version="1.0" encoding="UTF-8"?>
<beans>
	<import><?php echo $vars["presentation_common_path"] . $vars["presentation_caches_path"] . "cache_handler.xml"; ?></import>
	
	<services>
		<!-- /tests/presentation?value=3 -->
		<service id="tests/presentation" cache_handler="ServiceCacheHandler" to_cache="true">
			<validation_script>return $input[0] == "presentation";</validation_script>
			<key>tests_&lt;?php echo $input[0];?&gt;_value-&lt;?php echo $_GET["value"];?&gt;</key>
		</service>
		
		<!-- /pages/admin/stories/display/123?name=joao -->
		<service id="pages/admin/" cache_handler="ServiceCacheHandler" to_cache="true" id_type="prefix">
			<key><![CDATA[pages&lt;?php
				$t = $input ? count($input) : 0; 
				for($i = 0; $i < $t; $i++) {
					echo "_".$input[$i];
				}
			?&gt;_name-&lt;?php echo $_GET["name"];?&gt;]]></key>
		</service>
	</services>
</beans>
