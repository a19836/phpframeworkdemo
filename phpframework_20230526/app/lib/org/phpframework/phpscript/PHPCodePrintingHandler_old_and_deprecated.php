<?php
/*
 * Copyright (c) 2007 PHPMyFrameWork - Joao Pinto
 * AUTHOR: Joao Paulo Lopes Pinto -- http://jplpinto.com
 * 
 * The use of this code must be allowed first by the creator Joao Pinto, since this is a private and proprietary code.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS 
 * OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY 
 * AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR 
 * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL 
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, 
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER 
 * IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT 
 * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. IN NO EVENT SHALL 
 * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN 
 * AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE 
 * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */

include_once get_lib("org.phpframework.util.text.TextSanitizer"); class PHPCodePrintingHandler { public static function getPHPClassesFromFolder($pdd397f0a) { $pa1c3a9c4 = array(); $v6ee393d9fb = self::mb7248d940f3f($pdd397f0a, false); $pc37695cb = count($v6ee393d9fb); for ($v43dd7d0051 = 0; $v43dd7d0051 < $pc37695cb; $v43dd7d0051++) { $pf3dc0762 = $v6ee393d9fb[$v43dd7d0051]; $pa1c3a9c4[$pf3dc0762] = self::getPHPClassesFromFile($pf3dc0762); } return $pa1c3a9c4; } public static function getPHPClassesFromFolderRecursively($pdd397f0a) { $pa1c3a9c4 = array(); $v6ee393d9fb = self::mb7248d940f3f($pdd397f0a, true); $pc37695cb = count($v6ee393d9fb); for ($v43dd7d0051 = 0; $v43dd7d0051 < $pc37695cb; $v43dd7d0051++) { $pf3dc0762 = $v6ee393d9fb[$v43dd7d0051]; $pa1c3a9c4[$pf3dc0762] = self::getPHPClassesFromFile($pf3dc0762); } return $pa1c3a9c4; } public static function getPHPClassesFromFile($pf3dc0762) { if ($pf3dc0762 && file_exists($pf3dc0762)) { $pf07e7d8a = file_get_contents($pf3dc0762); $pf07e7d8a = str_replace("\r\n", "\n", $pf07e7d8a); return self::getPHPClassesFromString($pf07e7d8a); } return array(); } public static function getPHPClassesFromString($pf07e7d8a) { $pedde3449 = array(); $pd5c67a44 = token_get_all($pf07e7d8a); $v15f3268002 = count($pd5c67a44); $v683898cc6f = false; $v840f02ee04 = 0; $v1efaf06c58 = ""; for ($v43dd7d0051 = 1; $v43dd7d0051 < $v15f3268002; $v43dd7d0051++) { if ($pd5c67a44[$v43dd7d0051] == "{" || $pd5c67a44[$v43dd7d0051][0] == T_CURLY_OPEN || $pd5c67a44[$v43dd7d0051][0] == T_DOLLAR_OPEN_CURLY_BRACES) { ++$v840f02ee04; } else if ($pd5c67a44[$v43dd7d0051] == "}" || $pd5c67a44[$v43dd7d0051][0] == "}") { $v81bf097bb1 = null; $v67793c1603 = $v43dd7d0051; $v9d27441e80 = $v43dd7d0051 - 1; while (true) { $pf39de78a = $pd5c67a44[++$v9d27441e80]; if (is_array($pf39de78a) && is_numeric($pf39de78a[2])) { $v81bf097bb1 = $pf39de78a[2]; break; } else if (!isset($pf39de78a)) { break; } } if ($v81bf097bb1) { if (!empty($pe5762321)) { $pedde3449[$pe5762321]["end_line_index"] = $v81bf097bb1; $pedde3449[$pe5762321]["end_token_index"] = $v67793c1603; if ($pedde3449[$pe5762321]["methods"] && $v840f02ee04 > 1) { $pd69fb7d0 = count($pedde3449[$pe5762321]["methods"]) - 1; $pedde3449[$pe5762321]["methods"][$pd69fb7d0]["end_line_index"] = $v81bf097bb1; $pedde3449[$pe5762321]["methods"][$pd69fb7d0]["end_token_index"] = $v67793c1603; } } else { $pd69fb7d0 = $pedde3449[0]["methods"] ? count($pedde3449[0]["methods"]) - 1 : 0; $pedde3449[0]["methods"][$pd69fb7d0]["end_line_index"] = $v81bf097bb1; $pedde3449[0]["methods"][$pd69fb7d0]["end_token_index"] = $v67793c1603; } } --$v840f02ee04; } else if ($pd5c67a44[$v43dd7d0051][0] == T_CLASS) { $pe5762321 = ""; $v1335217393 = ""; $v81bf097bb1 = $pd5c67a44[$v43dd7d0051][2]; $v0da73fdf2f = false; $v683898cc6f = $v03bba28cad = $pdcd745cf = false; $v0cbc774ce7 = $v588b83a503 = 0; $v840f02ee04 = 0; $v04d9192f04 = $v43dd7d0051; $v9d27441e80 = $v43dd7d0051 - 1; while (true) { $pf39de78a = $pd5c67a44[--$v9d27441e80]; if (!is_array($pf39de78a)) break; else if ($pf39de78a[0] == T_ABSTRACT) { $v0da73fdf2f = true; $v81bf097bb1 = $pf39de78a[2]; $v04d9192f04 = $v9d27441e80; break; } else if ($pf39de78a[0] != T_COMMENT) break; } self::f92ff3e277d($pd5c67a44, $v04d9192f04, $v8f67fe1d1c); while (true) { $pf39de78a = $pd5c67a44[++$v43dd7d0051]; if ($pf39de78a == "{" || $pf39de78a[0] == T_CURLY_OPEN || $pf39de78a[0] == T_DOLLAR_OPEN_CURLY_BRACES) { --$v43dd7d0051; break; } else if (!is_array($pf39de78a)) break; else if ($pf39de78a[0] == T_STRING) $v1335217393 .= $pf39de78a[1]; else if ($pf39de78a[0] != T_WHITESPACE) { --$v43dd7d0051; break; } } if (!empty($v1335217393)) { $pe5762321 = self::prepareClassNameWithNameSpace($v1335217393, $v1efaf06c58); $pedde3449[$pe5762321] = array( "name" => $v1335217393, "start_line_index" => $v81bf097bb1, "start_token_index" => $v04d9192f04, "abstract" => $v0da73fdf2f, "comments" => $v8f67fe1d1c["comments"], "doc_comments" => $v8f67fe1d1c["doc_comments"], "start_comments_line_index" => $v8f67fe1d1c["start_comments_line_index"], "end_comments_line_index" => $v8f67fe1d1c["end_comments_line_index"], "namespace" => $v1efaf06c58, ); while (true) { $pf39de78a = $pd5c67a44[++$v43dd7d0051]; if ($pf39de78a == "{" || $pf39de78a[0] == T_CURLY_OPEN || $pf39de78a[0] == T_DOLLAR_OPEN_CURLY_BRACES) { --$v43dd7d0051; break; } else if (!is_array($pf39de78a) && $pf39de78a != ",") break; else if ($pf39de78a[0] == T_EXTENDS) { $v03bba28cad = true; $pdcd745cf = false; $v0cbc774ce7 = 0; } else if ($pf39de78a[0] == T_IMPLEMENTS) { $v03bba28cad = false; $pdcd745cf = true; $v588b83a503 = 0; } else if ( ($v03bba28cad || $pdcd745cf) && ($pf39de78a == "," || (is_array($pf39de78a) && $pf39de78a[1] == ","))) { if ($v03bba28cad) $v0cbc774ce7++; else $v588b83a503++; } else if ( ($v03bba28cad || $pdcd745cf) && ($pf39de78a[0] == T_STRING || $pf39de78a[0] == T_NS_SEPARATOR)) { $v3fb9f41470 = $v03bba28cad ? "extends" : "implements"; $v164fb8d517 = $v03bba28cad ? $v0cbc774ce7 : $v588b83a503; if ($pedde3449[$pe5762321][$v3fb9f41470][$v164fb8d517]) $pedde3449[$pe5762321][$v3fb9f41470][$v164fb8d517] .= $pf39de78a[1]; else $pedde3449[$pe5762321][$v3fb9f41470][$v164fb8d517] = $pf39de78a[1]; } } } ++$v840f02ee04; while (true) { $pf39de78a = $pd5c67a44[++$v43dd7d0051]; if ($pf39de78a == "{" || $pf39de78a[0] == T_CURLY_OPEN || $pf39de78a[0] == T_DOLLAR_OPEN_CURLY_BRACES) { if (!empty($v1335217393)) { $pedde3449[$pe5762321]["start_brackets_line_index"] = is_numeric($pd5c67a44[$v43dd7d0051][2]) ? $pd5c67a44[$v43dd7d0051][2] : $pd5c67a44[$v43dd7d0051 + 1][2]; $pedde3449[$pe5762321]["start_brackets_token_index"] = $v43dd7d0051; } break; } else if (!isset($pf39de78a)) { break; } } } else if ($pd5c67a44[$v43dd7d0051][0] == T_NAMESPACE) { $v1efaf06c58 = ""; while (true) { $pf39de78a = $pd5c67a44[$v43dd7d0051 + 1]; if ($pf39de78a == ";") break; $pc288256e = is_array($pf39de78a) ? $pf39de78a[1] : $pf39de78a; $v1efaf06c58 .= $pc288256e; $v43dd7d0051++; } $v1efaf06c58 = trim($v1efaf06c58); if ($v1efaf06c58) $pedde3449[0]["namespaces"][] = $v1efaf06c58; } else if ($pd5c67a44[$v43dd7d0051][0] == T_USE) { $pd8c1f951 = $pf66e5016 = ""; $v9ec84cb847 = false; while (true) { $pf39de78a = $pd5c67a44[$v43dd7d0051 + 1]; if ($pf39de78a == ";") break; else if ($pf39de78a[0] == T_AS) $v9ec84cb847 = true; else { $pc288256e = is_array($pf39de78a) ? $pf39de78a[1] : $pf39de78a; if ($v9ec84cb847) $pf66e5016 .= $pc288256e; else $pd8c1f951 .= $pc288256e; } $v43dd7d0051++; } $pd8c1f951 = trim($pd8c1f951); $pf66e5016 = trim($pf66e5016); if ($pd8c1f951) $pedde3449[0]["uses"][$pd8c1f951] = $pf66e5016; } else if ($pd5c67a44[$v43dd7d0051][0] == T_FUNCTION) { $v683898cc6f = true; } else if ($v683898cc6f && $pd5c67a44[$v43dd7d0051][0] == T_STRING) { $v683898cc6f = false; if ($v840f02ee04 <= 0) $v1335217393 = $pe5762321 = ""; $v603bd47baf = $pd5c67a44[$v43dd7d0051][1]; $v81bf097bb1 = $pd5c67a44[$v43dd7d0051][2]; $v6cd9d4006f = array(); $v3fb9f41470 = false; $v0da73fdf2f = false; $v912f41d02b = false; $v71e351a2eb = $v43dd7d0051 - 1; while (true) { $pf39de78a = $pd5c67a44[--$v71e351a2eb]; if (!is_array($pf39de78a)) { break; } else if ($pf39de78a[0] == T_PUBLIC) { $v3fb9f41470 = "public"; $v81bf097bb1 = $pf39de78a[2]; break; } else if ($pf39de78a[0] == T_PRIVATE) { $v3fb9f41470 = "private"; $v81bf097bb1 = $pf39de78a[2]; break; } else if ($pf39de78a[0] == T_PROTECTED) { $v3fb9f41470 = "protected"; $v81bf097bb1 = $pf39de78a[2]; break; } else if ($pf39de78a[0] == T_FUNCTION) { $v81bf097bb1 = $pf39de78a[2]; } else if ($pf39de78a[0] == T_STATIC) { $v912f41d02b = true; $v81bf097bb1 = $pf39de78a[2]; } else if ($pf39de78a[0] == T_ABSTRACT) { $v0da73fdf2f = true; $v81bf097bb1 = $pf39de78a[2]; } else if ($pf39de78a[0] != T_WHITESPACE) { $v71e351a2eb++; break; } } if ($v603bd47baf == "__construct" && !empty($v1335217393)) $v3fb9f41470 = "construct"; else $v3fb9f41470 = $v3fb9f41470 ? $v3fb9f41470 : "public"; $v6cd9d4006f = array( "name" => $v603bd47baf, "type" => $v3fb9f41470, "start_line_index" => $v81bf097bb1, "abstract" => $v0da73fdf2f, "static" => $v912f41d02b, ); self::f92ff3e277d($pd5c67a44, $v71e351a2eb, $v6cd9d4006f); $pdccf64a6 = array(); $pe86fd716 = $v3e2ea7c182 = $v3159b6f77b = false; while (true) { $pf39de78a = $pd5c67a44[++$v43dd7d0051]; if ($pf39de78a == "(") $pe86fd716 = true; else if ($pf39de78a == ")" || empty($pf39de78a)) break; else if (!isset($pf39de78a)) break; else if ($pe86fd716) { if ($pf39de78a[0] == T_VARIABLE) { $v3159b6f77b = false; $v3e2ea7c182 = $pf39de78a[1]; $pdccf64a6[ $v3e2ea7c182 ] = null; } else if ($v3e2ea7c182) { if ($pf39de78a == "=") { $v3159b6f77b = true; $pdccf64a6[ $v3e2ea7c182 ] = ""; } else if ($v3159b6f77b) { $v531324e895 = 0; $v15f6545050 = ""; do { $v15f6545050 .= is_array($pf39de78a) ? $pf39de78a[1] : $pf39de78a; $pf39de78a = $pd5c67a44[++$v43dd7d0051]; if ($pf39de78a == "(") $v531324e895++; elseif ($pf39de78a == ")") { $v531324e895--; if ($v531324e895 == 0) { $v15f6545050 .= ")"; ++$v43dd7d0051; } } else if (!isset($pf39de78a)) break; if ($v531324e895 <= 0 && ($pf39de78a == "," || $pf39de78a == ")")) break; } while(true); $pdccf64a6[ $v3e2ea7c182 ] = trim($v15f6545050); $v3e2ea7c182 = false; $v3159b6f77b = false; --$v43dd7d0051; } else if ($pf39de78a == ",") { $v3e2ea7c182 = false; $v3159b6f77b = false; } } } } if (!empty($pdccf64a6)) $v6cd9d4006f["arguments"] = $pdccf64a6; ++$v840f02ee04; while (true) { $pf39de78a = $pd5c67a44[++$v43dd7d0051]; if ($pf39de78a == "{" || $pf39de78a[0] == T_CURLY_OPEN || $pf39de78a[0] == T_DOLLAR_OPEN_CURLY_BRACES) { $v6cd9d4006f["start_brackets_line_index"] = is_numeric($pd5c67a44[$v43dd7d0051][2]) ? $pd5c67a44[$v43dd7d0051][2] : $pd5c67a44[$v43dd7d0051 + 1][2]; $v6cd9d4006f["start_brackets_token_index"] = $v43dd7d0051; break; } else if (!isset($pf39de78a)) break; } if (!empty($v1335217393)) $pedde3449[$pe5762321]["methods"][] = $v6cd9d4006f; else { if ($v1efaf06c58) $v6cd9d4006f["namespace"] = $v1efaf06c58; $pedde3449[0]["methods"][] = $v6cd9d4006f; } } } return $pedde3449; } public static function prepareClassNameWithNameSpace($v1335217393, $v1efaf06c58 = "") { return ($v1efaf06c58 ? (substr($v1efaf06c58, 0, 1) == "\\" ? "" : "\\") . $v1efaf06c58 . "\\" : "") . $v1335217393; } public static function decoupleClassNameWithNameSpace($v1335217393) { $v5e813b295b = $v1335217393; $v1efaf06c58 = ""; if (strpos($v1335217393, "\\") !== false) { $pbd1bc7b0 = strrpos($v1335217393, "\\"); $v5e813b295b = substr($v1335217393, $pbd1bc7b0 + 1); $v1efaf06c58 = substr($v1335217393, 0, $pbd1bc7b0); } return array("class_name" => $v1335217393, "namespace" => $v1efaf06c58, "name" => $v5e813b295b); } private static function f92ff3e277d($pd5c67a44, $pd69fb7d0, &$v972f1a5c2b) { $pcc2fe66c = array(); $v454a8d0d34 = array(); $v543ee0db2e = null; $pcdd9a718 = is_array($pd5c67a44[$pd69fb7d0]) ? $pd5c67a44[$pd69fb7d0][2] : null; while (true) { $pf39de78a = $pd5c67a44[--$pd69fb7d0]; if (is_array($pf39de78a) && ($pf39de78a[0] == T_COMMENT || $pf39de78a[0] == T_DOC_COMMENT || $pf39de78a[0] == T_WHITESPACE)) { if ($pf39de78a[0] == T_COMMENT) { if (!isset($v543ee0db2e)) $pcdd9a718 = $pf39de78a[2] + substr_count($pf39de78a[1], "\n"); $pcc2fe66c[] = $pf39de78a[1]; $v543ee0db2e = $pf39de78a[2]; } else if ($pf39de78a[0] == T_DOC_COMMENT) { if (!isset($v543ee0db2e)) $pcdd9a718 = $pf39de78a[2] + substr_count($pf39de78a[1], "\n"); $v454a8d0d34[] = $pf39de78a[1]; $v543ee0db2e = $pf39de78a[2]; } else if (!isset($v543ee0db2e)) $pcdd9a718 = $pf39de78a[2]; } else break; } if (!empty($pcc2fe66c)) $v972f1a5c2b["comments"] = array_reverse($pcc2fe66c); if (!empty($v454a8d0d34)) $v972f1a5c2b["doc_comments"] = array_reverse($v454a8d0d34); if (isset($v543ee0db2e)) { $v972f1a5c2b["start_comments_line_index"] = $v543ee0db2e; $v972f1a5c2b["end_comments_line_index"] = $pcdd9a718; } } public static function getFunctionParamsFromContent($v6490ea3a15, $v4c0b7f03c4, &$v4430104888) { $v9b391a5b1f = array(); $v4430104888 = strpos($v6490ea3a15, $v4c0b7f03c4, $v4430104888); if ($v4430104888 !== false) { $v4430104888 += strlen($v4c0b7f03c4); $pfb483c65 = strlen($v6490ea3a15); $v365d20463c = $v8f85090cce = false; $v621ec551a7 = 0; $pea70e132 = ""; $v9d27441e80 = $v4430104888; for (; $v9d27441e80 < $pfb483c65; $v9d27441e80++) { $pc288256e = $v6490ea3a15[$v9d27441e80]; if ($pc288256e == '"') $v365d20463c = !$v365d20463c; else if ($pc288256e == '"') $v8f85090cce = !$v8f85090cce; else if ($pc288256e == '(' && !$v365d20463c && !$v8f85090cce) $v621ec551a7++; else if ($pc288256e == ')' && !$v365d20463c && !$v8f85090cce) $v621ec551a7--; if (!$v365d20463c && !$v8f85090cce && $v621ec551a7 <= 0) { if ($pc288256e == ';' || $v621ec551a7 < 0) { $pea70e132 = trim($pea70e132); if (strlen($pea70e132)) $v9b391a5b1f[] = $pea70e132; break; } else if ($pc288256e == ',') { $v9b391a5b1f[] = trim($pea70e132); $pea70e132 = ""; } else $pea70e132 .= $pc288256e; } else { $pea70e132 .= $pc288256e; } } $v4430104888 = $v9d27441e80 + 1; } return $v9b391a5b1f; } public static function getClassFromFile($pf3dc0762, $v1335217393) { $v1335217393 = $v1335217393 ? trim($v1335217393) : $v1335217393; if ($v1335217393) { $pfb662071 = self::getPHPClassesFromFile($pf3dc0762); return self::getClassFromPHPClasses($pfb662071, $v1335217393); } return null; } public static function getClassFromPHPClasses($pa1c3a9c4, $v1335217393) { $v1335217393 = $v1335217393 ? trim($v1335217393) : $v1335217393; if (is_array($pa1c3a9c4) && $v1335217393) { $v1335217393 = strtolower($v1335217393); $v1335217393 = (strpos($v1335217393, "\\") !== false && substr($v1335217393, 0, 1) != "\\" ? "\\" : "") . $v1335217393; foreach ($pa1c3a9c4 as $pe04f136f => $v9a8b7dc209) if (strtolower($pe04f136f) == $v1335217393) return $v9a8b7dc209; } return null; } public static function getClassOfFile($pf3dc0762) { if ($pf3dc0762 && file_exists($pf3dc0762)) { $v1335217393 = basename(pathinfo($pf3dc0762, PATHINFO_FILENAME)); $v9a8b7dc209 = self::getClassFromFile($pf3dc0762, $v1335217393); if ($v9a8b7dc209) return $v9a8b7dc209; $pfb662071 = self::getPHPClassesFromFile($pf3dc0762); if (is_array($pfb662071)) { $v1335217393 = strtolower($v1335217393); foreach ($pfb662071 as $pe04f136f => $v9a8b7dc209) if (strtolower($v9a8b7dc209["name"]) == $v1335217393) return $v9a8b7dc209; } } return null; } public static function getFunctionFromFile($pf3dc0762, $v24b0e52635, $v1335217393 = 0) { $v24b0e52635 = $v24b0e52635 ? strtolower(trim($v24b0e52635)) : false; $v1335217393 = $v1335217393 ? trim($v1335217393) : $v1335217393; if ($pf3dc0762 && file_exists($pf3dc0762) && $v24b0e52635) { $v6490ea3a15 = file_get_contents($pf3dc0762); $v6490ea3a15 = str_replace("\r\n", "\n", $v6490ea3a15); $pfb662071 = self::getPHPClassesFromString($v6490ea3a15); if (!$v1335217393) $pedde3449 = $pfb662071[0]["methods"]; else { $v9a8b7dc209 = self::getClassFromPHPClasses($pfb662071, $v1335217393); $pedde3449 = $v9a8b7dc209 ? $v9a8b7dc209["methods"] : null; } if ($pedde3449) { $pc37695cb = count($pedde3449); for ($v43dd7d0051 = 0; $v43dd7d0051 < $pc37695cb; $v43dd7d0051++) if (strtolower($pedde3449[$v43dd7d0051]["name"]) == $v24b0e52635) return $pedde3449[$v43dd7d0051]; } } return null; } public static function getNamespacesFromFile($pf3dc0762) { $pa1c3a9c4 = self::getPHPClassesFromFile($pf3dc0762); return $pa1c3a9c4[0]["namespaces"]; } public static function getUsesFromFile($pf3dc0762) { $pa1c3a9c4 = self::getPHPClassesFromFile($pf3dc0762); return $pa1c3a9c4[0]["uses"]; } public static function getIncludesFromFile($pf3dc0762) { $v4159504aa3 = array("include ", "include_once ", "require ", "require_once "); $pe8fca4d2 = self::f248f2aacee($pf3dc0762, $v4159504aa3); $pc06f1034 = array(); foreach ($pe8fca4d2 as $v8b5a0a437b) $pc06f1034[] = array($v8b5a0a437b[0], strpos($v8b5a0a437b[1], "_once") !== false); return $pc06f1034; } private static function f248f2aacee($pf3dc0762, $v4159504aa3) { $pe8fca4d2 = array(); if ($pf3dc0762 && file_exists($pf3dc0762) && $v4159504aa3) { $v4159504aa3 = is_array($v4159504aa3) ? $v4159504aa3 : array($v4159504aa3); $v6490ea3a15 = file_get_contents($pf3dc0762); $v6490ea3a15 = str_replace("\r\n", "\n", $v6490ea3a15); $v00f73eb9bc = explode("\n", $v6490ea3a15); $pc37695cb = count($v00f73eb9bc); for ($v43dd7d0051 = 0; $v43dd7d0051 < $pc37695cb; $v43dd7d0051++) { $v259d35fa15 = $v00f73eb9bc[$v43dd7d0051]; $pd0217444 = trim($v259d35fa15); foreach ($v4159504aa3 as $v3fb9f41470) if ($v3fb9f41470) { $pbd1bc7b0 = stripos($pd0217444, $v3fb9f41470); if ($pbd1bc7b0 === 0) { $v4430104888 = $pbd1bc7b0 + strlen($v3fb9f41470); $pbaeb17fb = strpos($pd0217444, ";", $v4430104888); $pbaeb17fb = $pbaeb17fb !== false ? $pbaeb17fb : strlen($pbaeb17fb); $v8b5a0a437b = trim( substr($pd0217444, $v4430104888, $pbaeb17fb - $v4430104888) ); $pe8fca4d2[] = array($v8b5a0a437b, $v3fb9f41470); break; } } } } return $pe8fca4d2; } public static function getClassPropertiesFromFile($pf3dc0762, $v1335217393) { $pef349725 = array(); if ($pf3dc0762 && file_exists($pf3dc0762) && $v1335217393) { $v6490ea3a15 = file_get_contents($pf3dc0762); $pa1c3a9c4 = self::getPHPClassesFromString($v6490ea3a15); $v9a8b7dc209 = self::getClassFromPHPClasses($pa1c3a9c4, $v1335217393); $v1335217393 = $v9a8b7dc209["name"]; $pf3615e3b = $v9a8b7dc209["start_brackets_line_index"]; if (is_numeric($pf3615e3b)) { $v6490ea3a15 = str_replace("\r\n", "\n", $v6490ea3a15); $v00f73eb9bc = explode("\n", $v6490ea3a15); $v259d35fa15 = $v00f73eb9bc[ $pf3615e3b - 1 ]; $pbd1bc7b0 = strpos($v259d35fa15, "{"); $pbd1bc7b0 = $pbd1bc7b0 !== false ? $pbd1bc7b0 : strlen($v259d35fa15); $v12239b6473 = array(); $pc37695cb = $v9a8b7dc209["methods"] ? count($v9a8b7dc209["methods"]) : 0; for ($v43dd7d0051 = 0; $v43dd7d0051 < $pc37695cb; $v43dd7d0051++) { $v2616c8a24b = is_numeric($v9a8b7dc209["methods"][$v43dd7d0051]["start_comments_line_index"]) ? $v9a8b7dc209["methods"][$v43dd7d0051]["start_comments_line_index"] : $v9a8b7dc209["methods"][$v43dd7d0051]["start_line_index"]; $v12239b6473[] = array($v2616c8a24b, $v9a8b7dc209["methods"][$v43dd7d0051]["end_line_index"]); } $v255a19c282 = substr($v259d35fa15, $pbd1bc7b0 + 1); $pd69fb7d0 = $pf3615e3b - 1; while (true) { ++$pd69fb7d0; if ($pd69fb7d0 + 1 >= $v9a8b7dc209["end_line_index"]) break; $v8f3ba6c949 = true; foreach ($v12239b6473 as $v297f456509) if ($pd69fb7d0 + 1 >= $v297f456509[0] && $pd69fb7d0 + 1 <= $v297f456509[1]) { $v8f3ba6c949 = false; break; } if ($v8f3ba6c949 && trim($v00f73eb9bc[$pd69fb7d0])) $v255a19c282 .= "\n" . $v00f73eb9bc[$pd69fb7d0]; } $v255a19c282 = trim($v255a19c282); $pc37695cb = strlen($v255a19c282); $v8f85090cce = $v365d20463c = $pe64e40bc = $v1dda329092 = false; $pe0d2ea4b = $v0be750673d = array(); for ($v43dd7d0051 = 0; $v43dd7d0051 < $pc37695cb; $v43dd7d0051++) { $pc288256e = $v255a19c282[$v43dd7d0051]; if (!$v8f85090cce && !$v365d20463c && !$pe64e40bc && !$v1dda329092 && ($pc288256e == '$' || (strtolower($pc288256e) == "c" && strtolower($v255a19c282[$v43dd7d0051+1]) == "o" && strtolower($v255a19c282[$v43dd7d0051+2]) == "n" && strtolower($v255a19c282[$v43dd7d0051+3]) == "s" && strtolower($v255a19c282[$v43dd7d0051+4]) == "t") )) { $pd69fb7d0 = $pc288256e == '$' ? $v43dd7d0051 : $v43dd7d0051 + 5; $v30857f7eca = ""; for ($v9d27441e80 = $pd69fb7d0 - 1; $v9d27441e80 >= 0; --$v9d27441e80) { $pc288256e = $v255a19c282[$v9d27441e80]; if ($pc288256e == ";" || $pc288256e == "{" || $pc288256e == "}" || $pc288256e == "\n") break; else if ($pc288256e != "\t") $v30857f7eca = $pc288256e . $v30857f7eca; } $v1cfba8c105 = ""; for ($v9d27441e80 = $pd69fb7d0 + 1; $v9d27441e80 < $pc37695cb; $v9d27441e80++) { $pc288256e = $v255a19c282[$v9d27441e80]; if ($pc288256e == " " || $pc288256e == "=" || $pc288256e == "\t" || $pc288256e == "\n" || $pc288256e == ";") break; else $v1cfba8c105 .= $pc288256e; } $v67db1bd535 = ""; $v5121fa0145 = false; for ($v9d27441e80 = $v9d27441e80 - 1; $v9d27441e80 < $pc37695cb; $v9d27441e80++) { $pc288256e = $v255a19c282[$v9d27441e80]; if ($v5121fa0145) { $v67db1bd535 .= $pc288256e; if ($pc288256e == "'" && !$v365d20463c && !$pe64e40bc && !$v1dda329092 && !TextSanitizer::isCharEscaped($v255a19c282, $v9d27441e80)) $v8f85090cce = !$v8f85090cce; else if ($pc288256e == '"' && !$v8f85090cce && !$pe64e40bc && !$v1dda329092 && !TextSanitizer::isCharEscaped($v255a19c282, $v9d27441e80)) $v365d20463c = !$v365d20463c; else if ($pc288256e == '/' && $v255a19c282[$v9d27441e80 + 1] == "*" && !$v8f85090cce && !$v365d20463c && !$v1dda329092) { $pe64e40bc = true; ++$v9d27441e80; } else if ($pe64e40bc && $pc288256e == '*' && $v255a19c282[$v9d27441e80 + 1] == "/") { $pe64e40bc = false; ++$v9d27441e80; } else if ($pc288256e == '/' && $v255a19c282[$v9d27441e80 + 1] == "/" && !$v8f85090cce && !$v365d20463c && !$pe64e40bc) { $v1dda329092 = true; ++$v9d27441e80; } else if ($v1dda329092 && $pc288256e == "\n") $v1dda329092 = false; } if (!$v8f85090cce && !$v365d20463c && !$pe64e40bc && !$v1dda329092) { if ($pc288256e == ";") { if ($v9d27441e80 == $v43dd7d0051 + 1) $v67db1bd535 = null; else $v67db1bd535 = substr($v67db1bd535, 0, strlen($v67db1bd535) - 1); break; } else if (!$v5121fa0145 && $pc288256e == "=") $v5121fa0145 = true; } } $v67db1bd535 = $v67db1bd535 ? trim($v67db1bd535) : $v67db1bd535; $v43dd7d0051 = $v9d27441e80; $v30857f7eca = trim(strtolower($v30857f7eca)); $v3fb9f41470 = strpos($v30857f7eca, "private") !== false ? "private" : (strpos($v30857f7eca, "protected") !== false ? "protected" : "public"); $v79e3beff16 = substr($v67db1bd535, 0, 1); $v7f2aac9119 = $v67db1bd535 && ($v79e3beff16 == '"' || $v79e3beff16 == "'") ? "string" : ""; if ($v79e3beff16 == '"' || $v79e3beff16 == "'") { $v67db1bd535 = substr($v67db1bd535, 1); $v67db1bd535 = substr($v67db1bd535, -1) == $v79e3beff16 ? substr($v67db1bd535, 0, -1) : $v67db1bd535; $v67db1bd535 = $v79e3beff16 == '"' ? str_replace('\\"', '"', $v67db1bd535) : str_replace("\\'", "'", $v67db1bd535); if ($v79e3beff16 == "'") $v67db1bd535 = str_replace('$', '\\$', $v67db1bd535); } $pbd1bc7b0 = strpos($v255a19c282, "\n", $v43dd7d0051); $pbd1bc7b0 = $pbd1bc7b0 !== false ? $pbd1bc7b0 : $pc37695cb; $v02a69d4e0f = trim(substr($v255a19c282, $v43dd7d0051 + 1, $pbd1bc7b0 - $v43dd7d0051)); if ($v02a69d4e0f && substr($v02a69d4e0f, 0, 2) == "//") { $v0be750673d[] = $v02a69d4e0f; $v43dd7d0051 = $pbd1bc7b0; } $pef349725[] = array( "name" => $v1cfba8c105, "type" => $v3fb9f41470, "value" => $v67db1bd535, "var_type" => $v7f2aac9119, "static" => strpos($v30857f7eca, "static") !== false, "const" => strpos($v30857f7eca, "const") !== false, "doc_comments" => $pe0d2ea4b ? $pe0d2ea4b : null, "comments" => $v0be750673d ? $v0be750673d : null, ); $pe0d2ea4b = $v0be750673d = array(); } else if ($pc288256e == "'" && !$v365d20463c && !$pe64e40bc && !$v1dda329092 && !TextSanitizer::isCharEscaped($v255a19c282, $v43dd7d0051)) { $v8f85090cce = !$v8f85090cce; } else if ($pc288256e == '"' && !$v8f85090cce && !$pe64e40bc && !$v1dda329092 && !TextSanitizer::isCharEscaped($v255a19c282, $v43dd7d0051)) { $v365d20463c = !$v365d20463c; } else if ($pc288256e == '/' && $v255a19c282[$v43dd7d0051 + 1] == "*" && !$v8f85090cce && !$v365d20463c && !$v1dda329092) { $pbd1bc7b0 = strpos($v255a19c282, "*/", $v43dd7d0051); $pbd1bc7b0 = $pbd1bc7b0 !== false ? $pbd1bc7b0 + 1 : $pc37695cb; $pe0d2ea4b[] = substr($v255a19c282, $v43dd7d0051, $pbd1bc7b0 - $v43dd7d0051 + 1); $pe64e40bc = true; ++$v43dd7d0051; } else if ($pe64e40bc && $pc288256e == '*' && $v255a19c282[$v43dd7d0051 + 1] == "/") { $pe64e40bc = false; ++$v43dd7d0051; } else if ($pc288256e == '/' && $v255a19c282[$v43dd7d0051 + 1] == "/" && !$v8f85090cce && !$v365d20463c && !$pe64e40bc) { $pbd1bc7b0 = strpos($v255a19c282, "\n", $v43dd7d0051); $pbd1bc7b0 = $pbd1bc7b0 !== false ? $pbd1bc7b0 : $pc37695cb; $v0be750673d[] = substr($v255a19c282, $v43dd7d0051, $pbd1bc7b0 - $v43dd7d0051); $v1dda329092 = true; ++$v43dd7d0051; } else if ($v1dda329092 && $pc288256e == "\n") { $v1dda329092 = false; } } } } return $pef349725; } public static function getFunctionCodeFromFile($pf3dc0762, $v9d33ecaf56, $v1335217393 = 0) { if ($pf3dc0762 && file_exists($pf3dc0762) && $v9d33ecaf56) { $v1b08a89324 = self::getFunctionFromFile($pf3dc0762, $v9d33ecaf56, $v1335217393); $v9d33ecaf56 = $v1b08a89324["name"]; $pf3615e3b = $v1b08a89324["start_brackets_line_index"]; $pfbaa3965 = $v1b08a89324["end_line_index"]; if (is_numeric($pf3615e3b)) { $v6490ea3a15 = file_get_contents($pf3dc0762); $v6490ea3a15 = str_replace("\r\n", "\n", $v6490ea3a15); $v00f73eb9bc = explode("\n", $v6490ea3a15); $v067674f4e4 = ""; $v259d35fa15 = $v00f73eb9bc[ $pf3615e3b - 1 ]; $pbd1bc7b0 = strpos($v259d35fa15, "{"); $pbd1bc7b0 = $pbd1bc7b0 !== false ? $pbd1bc7b0 : strlen($v259d35fa15); $v255a19c282 = trim(substr($v259d35fa15, $pbd1bc7b0 + 1)); if ($v255a19c282) $v067674f4e4 .= "$v255a19c282"; $pd69fb7d0 = $pf3615e3b - 1; while (true) { ++$pd69fb7d0; if ($pd69fb7d0 + 1 >= $pfbaa3965) break; $pe2ae3be9 = str_replace("\n", "", $v00f73eb9bc[$pd69fb7d0]); $pe2ae3be9 = $pe2ae3be9[0] == "\t" ? substr($pe2ae3be9, 1) : $pe2ae3be9; if ($v1335217393) $pe2ae3be9 = $pe2ae3be9[0] == "\t" ? substr($pe2ae3be9, 1) : $pe2ae3be9; $v067674f4e4 .= "\n$pe2ae3be9"; } $v259d35fa15 = $v00f73eb9bc[ $pfbaa3965 - 1 ]; $pbd1bc7b0 = strpos($v259d35fa15, "}"); $pbd1bc7b0 = $pbd1bc7b0 !== false ? $pbd1bc7b0 : strlen($v259d35fa15); $v255a19c282 = trim(substr($v259d35fa15, 0, $pbd1bc7b0)); if ($v255a19c282) $v067674f4e4 .= "\n$v255a19c282"; return trim($v067674f4e4); } } return false; } public static function getCodeWithoutCommentsFromFile($pf3dc0762) { if ($pf3dc0762 && file_exists($pf3dc0762)) { $v067674f4e4 = file_get_contents($pf3dc0762); return self::getCodeWithoutComments($v067674f4e4); } } public static function getCodeWithoutComments($v067674f4e4) { if ($v067674f4e4) { $pf4e3c708 = ''; $pc330f663 = array(T_COMMENT); if (defined('T_DOC_COMMENT')) $pc330f663[] = T_DOC_COMMENT; if (defined('T_ML_COMMENT')) $pc330f663[] = T_ML_COMMENT; $pd5c67a44 = token_get_all($v067674f4e4); foreach ($pd5c67a44 as $pf39de78a) { if (is_array($pf39de78a)) { if (in_array($pf39de78a[0], $pc330f663)) continue 1; $pf39de78a = $pf39de78a[1]; } $pf4e3c708 .= $pf39de78a; } return $pf4e3c708; } return $v067674f4e4; } public static function renameClassFromFile($pf3dc0762, $paad2cff0, $v60b931bd87) { if ($pf3dc0762 && file_exists($pf3dc0762) && $paad2cff0 && $v60b931bd87 && $paad2cff0 != $v60b931bd87) { $v9a8b7dc209 = self::getClassFromFile($pf3dc0762, $paad2cff0); $pfab8e06f = self::decoupleClassNameWithNameSpace($v60b931bd87); $paff7c992 = $v9a8b7dc209; $paff7c992["name"] = $pfab8e06f["name"]; $paff7c992["namespace"] = $pfab8e06f["namespace"]; return self::editClassFromFile($pf3dc0762, $v9a8b7dc209, $paff7c992); } return false; } public static function renameFunctionFromFile($pf3dc0762, $v20323953f5, $pc73ce845, $v1335217393 = 0) { if ($pf3dc0762 && file_exists($pf3dc0762) && $v20323953f5 && $pc73ce845 && $v20323953f5 != $pc73ce845) { $v1b08a89324 = self::getFunctionFromFile($pf3dc0762, $v20323953f5, $v1335217393); $pc26d3031 = $v1b08a89324; $pc26d3031["name"] = $pc73ce845; return self::editFunctionFromFile($pf3dc0762, $v1b08a89324, $pc26d3031, $v1335217393); } return false; } public static function editClassFromFile($pf3dc0762, $pd73bf2ca, $paff7c992) { $paad2cff0 = self::prepareClassNameWithNameSpace($pd73bf2ca["name"], $pd73bf2ca["namespace"]); if ($pf3dc0762 && file_exists($pf3dc0762) && $paad2cff0 && $paff7c992["name"]) { $v9a8b7dc209 = self::getClassFromFile($pf3dc0762, $paad2cff0); $paad2cff0 = $v9a8b7dc209["name"]; $v3ada288ce6 = $v9a8b7dc209["start_line_index"]; $pf3615e3b = $v9a8b7dc209["start_brackets_line_index"]; if (is_numeric($v3ada288ce6)) { $v6490ea3a15 = file_get_contents($pf3dc0762); $v6490ea3a15 = str_replace("\r\n", "\n", $v6490ea3a15); $v00f73eb9bc = explode("\n", $v6490ea3a15); $v6f3e16f956 = implode("\n", array_slice($v00f73eb9bc, 0, $v3ada288ce6 - 1) ); $v259d35fa15 = $v00f73eb9bc[ $v3ada288ce6 - 1 ]; $v255a19c282 = ""; $v9cd205cadb = explode(" ", $v259d35fa15); $pc37695cb = count($v9cd205cadb); for ($v43dd7d0051 = 0; $v43dd7d0051 < $pc37695cb; $v43dd7d0051++) { if (strtolower(trim($v9cd205cadb[$v43dd7d0051])) == "class" || strtolower(trim($v9cd205cadb[$v43dd7d0051])) == "abstract") break; else $v255a19c282 .= ($v43dd7d0051 > 0 ? " " : "") . $v9cd205cadb[$v43dd7d0051]; } $v255a19c282 = trim($v255a19c282); if ($v255a19c282) $v6f3e16f956 .= "\n$v255a19c282"; $v8d77400f0a = $paff7c992["namespace"]; $v6824ec2eb2 = $paff7c992["includes"]; $v01cce60b16 = $paff7c992["uses"]; $paff7c992["namespace"] = null; $paff7c992["includes"] = null; $paff7c992["uses"] = null; $v6f3e16f956 .= "\n" . self::f57f2d70e5f($paff7c992); if ($pf3615e3b == $v3ada288ce6) $pbd1bc7b0 = strpos($v259d35fa15, "{", strpos($v259d35fa15, $paad2cff0) + 1); else { $v259d35fa15 = $v00f73eb9bc[ $pf3615e3b - 1 ]; $pbd1bc7b0 = strpos($v259d35fa15, "{"); } $pbd1bc7b0 = $pbd1bc7b0 !== false ? $pbd1bc7b0 : strlen($v259d35fa15); $v255a19c282 = trim(substr($v259d35fa15, $pbd1bc7b0)); if ($v255a19c282) $v6f3e16f956 .= " $v255a19c282"; $v6f3e16f956 .= "\n" . implode("\n", array_slice($v00f73eb9bc, $pf3615e3b) ); $v6f3e16f956 = str_replace("\n\n\n", "\n\n", str_replace("\t\n", "\n", $v6f3e16f956)); if (file_put_contents($pf3dc0762, $v6f3e16f956) > 0) { $v5c1c342594 = true; $paff7c992["namespace"] = $v8d77400f0a; if ($pd73bf2ca["namespace"] != $paff7c992["namespace"] && ($pd73bf2ca["namespace"] || $paff7c992["namespace"])) $v5c1c342594 = self::replaceNamespaceFromFile($pf3dc0762, $pd73bf2ca["namespace"], $paff7c992["namespace"]); if ($v5c1c342594 && ($v6824ec2eb2 || $v01cce60b16)) { $v255a19c282 = ""; if ($v6824ec2eb2) foreach ($v6824ec2eb2 as $pc24afc88) if (is_array($pc24afc88) && trim($pc24afc88[0])) $v255a19c282 .= "include" . ($pc24afc88[1] ? "_once" : "") . " " . $pc24afc88[0] . ";\n"; else if (!is_array($pc24afc88) && trim($pc24afc88)) $v255a19c282 .= "include_once $pc24afc88;\n"; if ($v01cce60b16) foreach ($v01cce60b16 as $v1578057dc9 => $v7c3c74d27f) if (trim($v1578057dc9)) $v255a19c282 .= "use $v1578057dc9" . (trim($v7c3c74d27f) ? " as $v7c3c74d27f" : "") . ";\n"; $v5c1c342594 = self::addCodeToBeginOfFileOrAfterFirstNamespace($pf3dc0762, $v255a19c282); } if ($v5c1c342594 && isset($paff7c992["code"])) { $v60b931bd87 = self::prepareClassNameWithNameSpace($paff7c992["name"], $paff7c992["namespace"]); $v5c1c342594 = self::removeClassPropertiesFromFile($pf3dc0762, $v60b931bd87) && self::addClassPropertiesToFile($pf3dc0762, $v60b931bd87, $paff7c992["code"]); } if (!$v5c1c342594) file_put_contents($pf3dc0762, $v6490ea3a15); return $v5c1c342594; } } } return false; } public static function editFunctionFromFile($pf3dc0762, $v64350cfaab, $pc26d3031, $v1335217393 = 0) { $v20323953f5 = $v64350cfaab["name"]; if ($pf3dc0762 && file_exists($pf3dc0762) && $v20323953f5 && $pc26d3031["name"]) { $v1b08a89324 = self::getFunctionFromFile($pf3dc0762, $v20323953f5, $v1335217393); $v20323953f5 = $v1b08a89324["name"]; $v3ada288ce6 = $v1b08a89324["start_line_index"]; $pf3615e3b = $v1b08a89324["start_brackets_line_index"]; $pfbaa3965 = $v1b08a89324["end_line_index"]; if (is_numeric($v3ada288ce6)) { $v6490ea3a15 = file_get_contents($pf3dc0762); $v6490ea3a15 = str_replace("\r\n", "\n", $v6490ea3a15); $v00f73eb9bc = explode("\n", $v6490ea3a15); $v6f3e16f956 = implode("\n", array_slice($v00f73eb9bc, 0, $v3ada288ce6 - 1) ); $v259d35fa15 = $v00f73eb9bc[ $v3ada288ce6 - 1 ]; $v255a19c282 = ""; $v9cd205cadb = explode(" ", $v259d35fa15); $pc28d161b = array("public", "private", "protected", "abstract", "static", "function"); $pc37695cb = count($v9cd205cadb); for ($v43dd7d0051 = 0; $v43dd7d0051 < $pc37695cb; $v43dd7d0051++) { if (in_array(strtolower(trim($v9cd205cadb[$v43dd7d0051])), $pc28d161b)) { break; } else { $v255a19c282 .= ($v43dd7d0051 > 0 ? " " : "") . $v9cd205cadb[$v43dd7d0051]; } } $v255a19c282 = trim($v255a19c282); if ($v255a19c282) $v6f3e16f956 .= "\n$v255a19c282"; $v6f3e16f956 .= "\n" . self::f90783370b0($pc26d3031, $v1335217393); $v259d35fa15 = $v00f73eb9bc[ $pf3615e3b - 1 ]; $pbd1bc7b0 = strpos($v259d35fa15, "{"); $pbd1bc7b0 = $pbd1bc7b0 !== false ? $pbd1bc7b0 : strlen($v259d35fa15); $v255a19c282 = trim(substr($v259d35fa15, $pbd1bc7b0)); if ($v255a19c282) $v6f3e16f956 .= " $v255a19c282"; $v6f3e16f956 .= "\n" . implode("\n", array_slice($v00f73eb9bc, $pf3615e3b) ); $v6f3e16f956 = str_replace("\n\n\n", "\n\n", str_replace("\t\n", "\n", $v6f3e16f956)); if (file_put_contents($pf3dc0762, $v6f3e16f956) > 0) { $v5c1c342594 = true; if (isset($pc26d3031["code"])) $v5c1c342594 = self::replaceFunctionCodeFromFile($pf3dc0762, $pc26d3031["name"], $pc26d3031["code"], $v1335217393); return $v5c1c342594; } } } return false; } public static function editClassCommentsFromFile($pf3dc0762, $v1335217393, $pcc2fe66c) { if ($v1335217393) { $v9a8b7dc209 = self::getClassFromFile($pf3dc0762, $v1335217393); return self::mbbe7a9e85448($pf3dc0762, $v9a8b7dc209, $pcc2fe66c); } return false; } public static function editFunctionCommentsFromFile($pf3dc0762, $v24b0e52635, $pcc2fe66c, $v1335217393 = 0) { if ($v24b0e52635) { $v1b08a89324 = self::getFunctionFromFile($pf3dc0762, $v24b0e52635, $v1335217393); return self::mbbe7a9e85448($pf3dc0762, $v1b08a89324, $pcc2fe66c); } return false; } private static function mbbe7a9e85448($pf3dc0762, $v7e56cb3d31, $pcc2fe66c) { if ($pf3dc0762 && file_exists($pf3dc0762)) { $v3ada288ce6 = $v7e56cb3d31["start_comments_line_index"]; $pfbaa3965 = $v7e56cb3d31["end_comments_line_index"]; if (is_numeric($v3ada288ce6) || $pcc2fe66c) { if (!is_numeric($v3ada288ce6)) { $v3ada288ce6 = $v7e56cb3d31["start_line_index"]; $pfbaa3965 = $v7e56cb3d31["start_line_index"]; } $v6490ea3a15 = file_get_contents($pf3dc0762); $v6490ea3a15 = str_replace("\r\n", "\n", $v6490ea3a15); $v00f73eb9bc = explode("\n", $v6490ea3a15); $v6f3e16f956 = implode("\n", array_slice($v00f73eb9bc, 0, $v3ada288ce6 - 1) ); $v259d35fa15 = $v00f73eb9bc[ $v3ada288ce6 - 1 ]; $v5609469b19 = strpos($v259d35fa15, "//"); $v977c6f57bc = strpos($v259d35fa15, "/*"); $pbd1bc7b0 = $v5609469b19 !== false && ($v5609469b19 < $v977c6f57bc || $v977c6f57bc == false) ? $v5609469b19 : $v977c6f57bc; if ($pbd1bc7b0 !== false) { $v9a8b7dc209 = substr($v259d35fa15, 0, $pbd1bc7b0); $v6f3e16f956 .= "\n" . (trim($v9a8b7dc209) ? $v9a8b7dc209 : ""); $v6f3e16f956 .= trim($pcc2fe66c) ? "\n" . $pcc2fe66c : ""; $v259d35fa15 = $v00f73eb9bc[ $pfbaa3965 - 1 ]; $v5609469b19 = strrpos($v259d35fa15, "//"); $v977c6f57bc = strrpos($v259d35fa15, "*/"); if ($v5609469b19 === false && $v977c6f57bc === false) { $v6f3e16f956 .= trim($v259d35fa15) ? $v259d35fa15 : ""; } else if ($v977c6f57bc !== false) { $v9a8b7dc209 = substr($v259d35fa15, $v977c6f57bc + 2); $v6f3e16f956 .= trim($v9a8b7dc209) ? $v9a8b7dc209 : ""; } } else { $v6f3e16f956 .= trim($pcc2fe66c) ? "\n" . $pcc2fe66c : ""; $v6f3e16f956 .= "\n" . (trim($v259d35fa15) ? $v259d35fa15 : ""); } $v6f3e16f956 .= "\n" . implode("\n", array_slice($v00f73eb9bc, $pfbaa3965) ); $v6f3e16f956 = str_replace("\n\n\n", "\n\n", str_replace("\t\n", "\n", $v6f3e16f956)); return file_put_contents($pf3dc0762, $v6f3e16f956) > 0; } } return false; } public static function removeNamespacesFromFile($pf3dc0762) { return self::removeInstructionsFromFile($pf3dc0762, "namespace"); } public static function removeUsesFromFile($pf3dc0762) { return self::removeInstructionsFromFile($pf3dc0762, "use"); } public static function removeIncludesFromFile($pf3dc0762) { return self::removeInstructionsFromFile($pf3dc0762, array("include", "include_once", "require", "require_once")); } public static function removeInstructionsFromFile($pf3dc0762, $v4159504aa3) { if ($pf3dc0762 && file_exists($pf3dc0762) && $v4159504aa3) { $v4159504aa3 = is_array($v4159504aa3) ? $v4159504aa3 : array($v4159504aa3); $v6490ea3a15 = file_get_contents($pf3dc0762); $v6490ea3a15 = str_replace("\r\n", "\n", $v6490ea3a15); $v00f73eb9bc = explode("\n", $v6490ea3a15); $v6f3e16f956 = ""; $pc37695cb = count($v00f73eb9bc); for ($v43dd7d0051 = 0; $v43dd7d0051 < $pc37695cb; $v43dd7d0051++) { $v259d35fa15 = $v00f73eb9bc[$v43dd7d0051]; $pd0217444 = trim($v259d35fa15); $v7959970a41 = false; foreach ($v4159504aa3 as $v3fb9f41470) if (stripos($pd0217444, $v3fb9f41470) === 0) { $pff5830e4 = substr($pd0217444, strlen($v3fb9f41470), 1); if ($pff5830e4 == " " || $pff5830e4 == "$" || $pff5830e4 == "'" || $pff5830e4 == '"' || $pff5830e4 == ";") { $v7959970a41 = true; break; } } if (!$v7959970a41) $v6f3e16f956 .= ($v6f3e16f956 ? "\n" : "") . $v259d35fa15; } $v6f3e16f956 = str_replace("\n\n\n", "\n\n", str_replace("\t\n", "\n", $v6f3e16f956)); return file_put_contents($pf3dc0762, $v6f3e16f956) > 0; } return false; } public static function removeClassPropertiesFromFile($pf3dc0762, $v1335217393) { if ($pf3dc0762 && file_exists($pf3dc0762) && $v1335217393) { $v9a8b7dc209 = self::getClassFromFile($pf3dc0762, $v1335217393); $pf3615e3b = $v9a8b7dc209["start_brackets_line_index"]; if (is_numeric($pf3615e3b)) { $v6490ea3a15 = file_get_contents($pf3dc0762); $v6490ea3a15 = str_replace("\r\n", "\n", $v6490ea3a15); $v00f73eb9bc = explode("\n", $v6490ea3a15); $v6f3e16f956 = implode("\n", array_slice($v00f73eb9bc, 0, $pf3615e3b - 1) ); $v259d35fa15 = $v00f73eb9bc[ $pf3615e3b - 1 ]; $pbd1bc7b0 = strpos($v259d35fa15, "{"); $pbd1bc7b0 = $pbd1bc7b0 !== false ? $pbd1bc7b0 : strlen($v259d35fa15); $v6f3e16f956 .= "\n" . substr($v259d35fa15, 0, $pbd1bc7b0 + 1); $v12239b6473 = array(); $pc37695cb = $v9a8b7dc209["methods"] ? count($v9a8b7dc209["methods"]) : 0; for ($v43dd7d0051 = 0; $v43dd7d0051 < $pc37695cb; $v43dd7d0051++) { $v6cd9d4006f = $v9a8b7dc209["methods"][$v43dd7d0051]; $v5b1e0bf841 = is_numeric($v6cd9d4006f["start_comments_line_index"]) ? $v6cd9d4006f["start_comments_line_index"] : $v6cd9d4006f["start_line_index"]; $v12239b6473[] = array($v5b1e0bf841, $v6cd9d4006f["end_line_index"], $v6cd9d4006f); } $pd69fb7d0 = $pf3615e3b - 1; while (true) { ++$pd69fb7d0; if ($pd69fb7d0 + 1 >= $v9a8b7dc209["end_line_index"]) break; foreach ($v12239b6473 as $v297f456509) { if ($pd69fb7d0 + 1 >= $v297f456509[0] && $pd69fb7d0 + 1 <= $v297f456509[1]) { if ($pd69fb7d0 + 1 == $v297f456509[0]) { $v6f3e16f956 .= "\n"; } $v6f3e16f956 .= "\n" . $v00f73eb9bc[$pd69fb7d0]; break; } } } $v6f3e16f956 .= "\n" . implode("\n", array_slice($v00f73eb9bc, $pd69fb7d0) ); $v6f3e16f956 = str_replace("\n\n\n", "\n\n", str_replace("\t\n", "\n", $v6f3e16f956)); return file_put_contents($pf3dc0762, $v6f3e16f956) > 0; } } return false; } public static function removeClassFromFile($pf3dc0762, $v1335217393) { $v1335217393 = $v1335217393 ? trim($v1335217393) : $v1335217393; if ($pf3dc0762 && file_exists($pf3dc0762) && $v1335217393) { self::editClassCommentsFromFile($pf3dc0762, $v1335217393, ""); $v6490ea3a15 = file_get_contents($pf3dc0762); $v6490ea3a15 = str_replace("\r\n", "\n", $v6490ea3a15); $v9a8b7dc209 = self::getClassFromFile($pf3dc0762, $v1335217393); $v3ada288ce6 = $v9a8b7dc209["start_line_index"]; $pfbaa3965 = $v9a8b7dc209["end_line_index"]; $pc28d161b = array("class", "abstract"); $v6f3e16f956 = self::f33ac1289a1($v6490ea3a15, $v3ada288ce6, $pfbaa3965, $pc28d161b); $v6f3e16f956 = str_replace("\n\n\n", "\n\n", str_replace("\t\n", "\n", $v6f3e16f956)); return $v6490ea3a15 != $v6f3e16f956 ? file_put_contents($pf3dc0762, $v6f3e16f956) > 0 : true; } return false; } public static function removeFunctionFromFile($pf3dc0762, $v24b0e52635, $v1335217393 = 0) { $v24b0e52635 = $v24b0e52635 ? trim($v24b0e52635) : false; if ($pf3dc0762 && file_exists($pf3dc0762) && $v24b0e52635) { self::editFunctionCommentsFromFile($pf3dc0762, $v24b0e52635, "", $v1335217393); $v1b08a89324 = self::getFunctionFromFile($pf3dc0762, $v24b0e52635, $v1335217393); $v3ada288ce6 = $v1b08a89324["start_line_index"]; $pfbaa3965 = $v1b08a89324["end_line_index"]; $v6490ea3a15 = file_get_contents($pf3dc0762); $v6490ea3a15 = str_replace("\r\n", "\n", $v6490ea3a15); $pc28d161b = array("public", "private", "protected", "abstract", "static", "function"); $v6f3e16f956 = self::f33ac1289a1($v6490ea3a15, $v3ada288ce6, $pfbaa3965, $pc28d161b); $v6f3e16f956 = str_replace("\n\n\n", "\n\n", str_replace("\t\n", "\n", $v6f3e16f956)); return $v6490ea3a15 != $v6f3e16f956 ? file_put_contents($pf3dc0762, $v6f3e16f956) > 0 : true; } return false; } public static function replaceFunctionCodeFromFile($pf3dc0762, $v9d33ecaf56, $v067674f4e4, $v1335217393 = 0) { if ($pf3dc0762 && file_exists($pf3dc0762) && $v9d33ecaf56) { $v1b08a89324 = self::getFunctionFromFile($pf3dc0762, $v9d33ecaf56, $v1335217393); $v9d33ecaf56 = $v1b08a89324["name"]; $pf3615e3b = $v1b08a89324["start_brackets_line_index"]; $pfbaa3965 = $v1b08a89324["end_line_index"]; if (is_numeric($pf3615e3b)) { $v6490ea3a15 = file_get_contents($pf3dc0762); $v6490ea3a15 = str_replace("\r\n", "\n", $v6490ea3a15); $v00f73eb9bc = explode("\n", $v6490ea3a15); $pdcf670f6 = $v1335217393 ? "\t" : ""; $v6f3e16f956 = implode("\n", array_slice($v00f73eb9bc, 0, $pf3615e3b - 1) ); $v259d35fa15 = $v00f73eb9bc[ $pf3615e3b - 1 ]; $pbd1bc7b0 = strpos($v259d35fa15, "{"); $pbd1bc7b0 = $pbd1bc7b0 !== false ? $pbd1bc7b0 : strlen($v259d35fa15); $v255a19c282 = trim(substr($v259d35fa15, 0, $pbd1bc7b0 + 1)); if ($v255a19c282) $v6f3e16f956 .= "\n$pdcf670f6$v255a19c282"; $v067674f4e4 = $v067674f4e4 ? $v067674f4e4 : ""; $v6f3e16f956 .= $v1335217393 ? "\n$pdcf670f6$pdcf670f6" . str_replace("\n", "\n$pdcf670f6$pdcf670f6", $v067674f4e4) : "\n\t" . str_replace("\n", "\n\t", $v067674f4e4); $v259d35fa15 = $v00f73eb9bc[ $pfbaa3965 - 1 ]; $pbd1bc7b0 = strpos($v259d35fa15, "}"); $pbd1bc7b0 = $pbd1bc7b0 !== false ? $pbd1bc7b0 : 0; $v255a19c282 = trim(substr($v259d35fa15, $pbd1bc7b0)); if ($v255a19c282) $v6f3e16f956 .= "\n$pdcf670f6$v255a19c282"; $v6f3e16f956 .= "\n" . implode("\n", array_slice($v00f73eb9bc, $pfbaa3965) ); $v6f3e16f956 = str_replace("\n\n\n", "\n\n", str_replace("\t\n", "\n", $v6f3e16f956)); return file_put_contents($pf3dc0762, $v6f3e16f956) > 0; } } return false; } public static function replaceNamespaceFromFile($pf3dc0762, $pced38d5a, $v8d77400f0a) { if ($pf3dc0762 && file_exists($pf3dc0762)) { if ($pced38d5a && substr($pced38d5a, 0, 1) == "\\") $pced38d5a = substr($pced38d5a, 1); if ($v8d77400f0a && substr($v8d77400f0a, 0, 1) == "\\") $v8d77400f0a = substr($v8d77400f0a, 1); if ($pced38d5a && $v8d77400f0a) { $v6490ea3a15 = file_get_contents($pf3dc0762); $v6490ea3a15 = str_ireplace("namespace $pced38d5a;", "namespace $v8d77400f0a;", $v6490ea3a15); return file_put_contents($pf3dc0762, $v6490ea3a15) > 0; } else if ($pced38d5a) return self::removeInstructionsFromFile($pf3dc0762, "namespace $pced38d5a"); else if ($v8d77400f0a) return self::addCodeToBeginOfFile($pf3dc0762, "namespace $v8d77400f0a;\n"); } return false; } public static function addNamespacesToFile($pf3dc0762, $v1480702cf7) { if ($pf3dc0762 && file_exists($pf3dc0762) && $v1480702cf7) { $v067674f4e4 = ""; foreach ($v1480702cf7 as $v1efaf06c58) if (trim($v1efaf06c58)) { $v1efaf06c58 = trim($v1efaf06c58); $v1efaf06c58 = substr($v1efaf06c58, 0, 1) == "\\" ? substr($v1efaf06c58, 1) : $v1efaf06c58; $v067674f4e4 .= "namespace $v1efaf06c58;\n"; } return self::addCodeToBeginOfFile($pf3dc0762, $v067674f4e4); } return false; } public static function addUsesToFile($pf3dc0762, $v7fe521c48d) { if ($v7fe521c48d) { $v067674f4e4 = ""; foreach ($v7fe521c48d as $v1578057dc9 => $v7c3c74d27f) if (trim($v1578057dc9)) $v067674f4e4 .= "use $v1578057dc9" . (trim($v7c3c74d27f) ? " as $v7c3c74d27f" : "") . ";\n"; return self::addCodeToBeginOfFile($pf3dc0762, $v067674f4e4); } return false; } public static function addIncludesToFile($pf3dc0762, $pc06f1034) { if ($pc06f1034) { $v067674f4e4 = ""; foreach ($pc06f1034 as $pc24afc88) if (is_array($pc24afc88) && trim($pc24afc88[0])) $v067674f4e4 .= "include" . ($pc24afc88[1] ? "_once" : "") . " " . $pc24afc88[0] . ";\n"; else if (!is_array($pc24afc88) && trim($pc24afc88)) $v067674f4e4 .= "include_once $pc24afc88;\n"; return self::addCodeToBeginOfFile($pf3dc0762, $v067674f4e4); } return false; } public static function addCodeToBeginOfFile($pf3dc0762, $v067674f4e4) { if ($pf3dc0762 && file_exists($pf3dc0762) && $v067674f4e4) { $v6490ea3a15 = file_get_contents($pf3dc0762); $v6490ea3a15 = str_replace("\r\n", "\n", $v6490ea3a15); $v6f3e16f956 = "<?php\n$v067674f4e4?>\n" . trim($v6490ea3a15); $v6f3e16f956 = str_replace(array("?>\n<?php", "?>\n<?"), "", $v6f3e16f956); $v6f3e16f956 = str_replace("\n\n\n", "\n\n", str_replace("\t\n", "\n", $v6f3e16f956)); return file_put_contents($pf3dc0762, $v6f3e16f956) > 0; } return false; } public static function addCodeToBeginOfFileOrAfterFirstNamespace($pf3dc0762, $v067674f4e4) { if ($pf3dc0762 && file_exists($pf3dc0762) && $v067674f4e4) { $v1480702cf7 = self::getNamespacesFromFile($pf3dc0762); if ($v1480702cf7) { $v6490ea3a15 = file_get_contents($pf3dc0762); $v6490ea3a15 = str_replace("\r\n", "\n", $v6490ea3a15); $v083d8b31b2 = stripos($v6490ea3a15, "namespace "); if (!is_numeric($v083d8b31b2)) $v083d8b31b2 = stripos($v6490ea3a15, "namespace"); $v083d8b31b2 = strpos($v6490ea3a15, ";", $v083d8b31b2); if (is_numeric($v083d8b31b2)) { $v083d8b31b2++; $v6f3e16f956 = substr($v6490ea3a15, 0, $v083d8b31b2) . "\n\n" . $v067674f4e4 . substr($v6490ea3a15, $v083d8b31b2); $v6f3e16f956 = str_replace("\n\n\n", "\n\n", str_replace("\t\n", "\n", $v6f3e16f956)); return file_put_contents($pf3dc0762, $v6f3e16f956) > 0; } } else return self::addCodeToBeginOfFile($pf3dc0762, $v067674f4e4); } return false; } public static function addClassToFile($pf3dc0762, $pb543f4d4) { $v5e813b295b = trim($pb543f4d4["name"]); if ($pf3dc0762 && $v5e813b295b) { $v327f72fb62 = self::f57f2d70e5f($pb543f4d4); $v067674f4e4 = $pb543f4d4["code"]; $v067674f4e4 = $v067674f4e4 ? "\t" . str_replace("\n", "\n\t", $v067674f4e4) : ""; $v327f72fb62 .= " {\n$v067674f4e4\n}\n"; if (file_exists($pf3dc0762)) { $v6490ea3a15 = file_get_contents($pf3dc0762); $v6490ea3a15 = str_replace("\r\n", "\n", $v6490ea3a15); $pbd1bc7b0 = strrpos($v6490ea3a15, "?>"); if ($pbd1bc7b0 !== false) $v6490ea3a15 = substr($v6490ea3a15, 0, $pbd1bc7b0) . "\n\n$v327f72fb62" . substr($v6490ea3a15, $pbd1bc7b0); else $v6490ea3a15 .= (empty($v6490ea3a15) ? "<?php" : "\n") . "\n$v327f72fb62?>"; } else $v6490ea3a15 = "<?php\n$v327f72fb62?>"; $v6490ea3a15 = str_replace("\n\n\n", "\n\n", str_replace("\t\n", "\n", $v6490ea3a15)); return file_put_contents($pf3dc0762, $v6490ea3a15) > 0; } return false; } public static function addClassPropertiesToFile($pf3dc0762, $v1335217393, $v067674f4e4) { if ($pf3dc0762 && file_exists($pf3dc0762) && $v1335217393 && $v067674f4e4) { $v9a8b7dc209 = self::getClassFromFile($pf3dc0762, $v1335217393); $pf3615e3b = $v9a8b7dc209["start_brackets_line_index"]; if (is_numeric($pf3615e3b)) { $v6490ea3a15 = file_get_contents($pf3dc0762); $v6490ea3a15 = str_replace("\r\n", "\n", $v6490ea3a15); $v00f73eb9bc = explode("\n", $v6490ea3a15); $v6f3e16f956 = implode("\n", array_slice($v00f73eb9bc, 0, $pf3615e3b - 1) ); $v259d35fa15 = $v00f73eb9bc[ $pf3615e3b - 1 ]; $pbd1bc7b0 = strpos($v259d35fa15, "{"); $pbd1bc7b0 = $pbd1bc7b0 !== false ? $pbd1bc7b0 : strlen($v259d35fa15); $v6f3e16f956 .= "\n" . substr($v259d35fa15, 0, $pbd1bc7b0 + 1); $v6f3e16f956 .= "\n\t" . str_replace("\n", "\n\t", $v067674f4e4) . "\n\t"; $v255a19c282 = trim( substr($v259d35fa15, $pbd1bc7b0 + 1) ); if ($v255a19c282) { $v6f3e16f956 .= "\n" . $v255a19c282; } $v6f3e16f956 .= "\n" . implode("\n", array_slice($v00f73eb9bc, $pf3615e3b) ); $v6f3e16f956 = str_replace("\n\n\n", "\n\n", str_replace("\t\n", "\n", $v6f3e16f956)); return file_put_contents($pf3dc0762, $v6f3e16f956) > 0; } } return false; } public static function addFunctionToFile($pf3dc0762, $pb1b5d206, $v1335217393 = 0) { $v5e813b295b = trim($pb1b5d206["name"]); if ($pf3dc0762 && $v5e813b295b) { $v327f72fb62 = self::f90783370b0($pb1b5d206, $v1335217393); $v067674f4e4 = $pb1b5d206["code"]; $v067674f4e4 = $v067674f4e4 ? ($v1335217393 ? "\t\t" . str_replace("\n", "\n\t\t", $v067674f4e4) : str_replace("\n", "\n\t", $v067674f4e4)) : ""; $v327f72fb62 .= " {\n$v067674f4e4\n}\n"; if ($v1335217393) { if (file_exists($pf3dc0762)) { $v9a8b7dc209 = self::getClassFromFile($pf3dc0762, $v1335217393); $pfbaa3965 = $v9a8b7dc209["end_line_index"]; if (is_numeric($pfbaa3965)) { $v6490ea3a15 = file_get_contents($pf3dc0762); $v6490ea3a15 = str_replace("\r\n", "\n", $v6490ea3a15); $v00f73eb9bc = explode("\n", $v6490ea3a15); $v6f3e16f956 = implode("\n", array_slice($v00f73eb9bc, 0, $pfbaa3965 - 1) ); $v259d35fa15 = $v00f73eb9bc[ $pfbaa3965 - 1 ]; $pbd1bc7b0 = strpos($v259d35fa15, "}"); $pbd1bc7b0 = $pbd1bc7b0 !== false ? $pbd1bc7b0 : 0; $v255a19c282 = trim(substr($v259d35fa15, 0, $pbd1bc7b0)); if ($v255a19c282) $v6f3e16f956 .= "\n$v255a19c282"; $v6f3e16f956 .= "\n\n$v327f72fb62"; $v255a19c282 = trim(substr($v259d35fa15, $pbd1bc7b0)); if ($v255a19c282) $v6f3e16f956 .= "\n$v255a19c282"; $v6f3e16f956 .= "\n" . implode("\n", array_slice($v00f73eb9bc, $pfbaa3965) ); $v6f3e16f956 = str_replace("\n\n\n", "\n\n", str_replace("\t\n", "\n", $v6f3e16f956)); return file_put_contents($pf3dc0762, $v6f3e16f956) > 0; } } } else { if (file_exists($pf3dc0762)) { $v6490ea3a15 = file_get_contents($pf3dc0762); $v6490ea3a15 = str_replace("\r\n", "\n", $v6490ea3a15); $pbd1bc7b0 = strrpos($v6490ea3a15, "?>"); if ($pbd1bc7b0 !== false) $v6490ea3a15 = substr($v6490ea3a15, 0, $pbd1bc7b0) . "\n\n$v327f72fb62\n" . substr($v6490ea3a15, $pbd1bc7b0); else $v6490ea3a15 .= (empty($v6490ea3a15) ? "<?php" : "\n") . "\n$v327f72fb62?>"; } else $v6490ea3a15 = "<?php\n$v327f72fb62\n?>"; $v6490ea3a15 = str_replace("\n\n\n", "\n\n", str_replace("\t\n", "\n", $v6490ea3a15)); return file_put_contents($pf3dc0762, $v6490ea3a15) > 0; } } return false; } private static function f57f2d70e5f($pb543f4d4) { $v5e813b295b = trim($pb543f4d4["name"]); $v0da73fdf2f = $pb543f4d4["abstract"]; $v99ac1f1816 = $pb543f4d4["extends"]; $v7284e8bc5a = $pb543f4d4["implements"]; $v1efaf06c58 = $pb543f4d4["namespace"]; $v7fe521c48d = $pb543f4d4["uses"]; $pc06f1034 = $pb543f4d4["includes"]; $pcc2fe66c = trim($pb543f4d4["comments"]); $v99ac1f1816 = !$v99ac1f1816 || is_array($v99ac1f1816) ? $v99ac1f1816 : array($v99ac1f1816); $v7284e8bc5a = !$v7284e8bc5a || is_array($v7284e8bc5a) ? $v7284e8bc5a : array($v7284e8bc5a); $pc06f1034 = !$pc06f1034 || is_array($pc06f1034) ? $pc06f1034 : array($pc06f1034); $v327f72fb62 = ""; if ($v1efaf06c58) $v327f72fb62 .= "namespace $v1efaf06c58;\n\n"; if ($pc06f1034) { foreach ($pc06f1034 as $pc24afc88) if (is_array($pc24afc88) && trim($pc24afc88[0])) $v327f72fb62 .= "include" . ($pc24afc88[1] ? "_once" : "") . " " . $pc24afc88[0] . ";\n"; else if (!is_array($pc24afc88) && trim($pc24afc88)) $v327f72fb62 .= "include_once $pc24afc88;\n"; $v327f72fb62 .= "\n"; } if ($v7fe521c48d) { foreach ($v7fe521c48d as $v1578057dc9 => $v7c3c74d27f) if (trim($v1578057dc9)) $v327f72fb62 .= "use $v1578057dc9" . (trim($v7c3c74d27f) ? " as $v7c3c74d27f" : "") . ";\n"; $v327f72fb62 .= "\n"; } if ($pcc2fe66c) $v327f72fb62 .= (substr($pcc2fe66c, 0, 2) != "/*" ? "/**\n * " . str_replace("\n", "\n * ", $pcc2fe66c) . "\n */" : $pcc2fe66c) . "\n"; $v327f72fb62 .= ($v0da73fdf2f ? "abstract " : "") . "class $v5e813b295b"; if ($v99ac1f1816) $v327f72fb62 .= " extends " . implode(", ", $v99ac1f1816); if ($v7284e8bc5a) $v327f72fb62 .= " implements " . implode(", ", $v7284e8bc5a); return $v327f72fb62; } private static function f90783370b0($pb1b5d206, $v1335217393 = false) { $v5e813b295b = trim($pb1b5d206["name"]); $v3fb9f41470 = $pb1b5d206["type"]; $v0da73fdf2f = $pb1b5d206["abstract"]; $v912f41d02b = $pb1b5d206["static"]; $v86066462c3 = $pb1b5d206["arguments"]; $pcc2fe66c = trim($pb1b5d206["comments"]); if (is_array($v86066462c3)) { $pf3b79f6d = ""; foreach ($v86066462c3 as $v3e2ea7c182 => $v15f6545050) { if ($v3e2ea7c182) { $v3e2ea7c182 = trim($v3e2ea7c182); $v3e2ea7c182 = substr($v3e2ea7c182, 0, 1) == '$' ? $v3e2ea7c182 : "\$$v3e2ea7c182"; $pf3b79f6d .= ($pf3b79f6d ? ", " : "") . "$v3e2ea7c182"; if (isset($v15f6545050)) { $pf3b79f6d .= " = $v15f6545050"; } } } } $pdcf670f6 = $v1335217393 ? "\t" : ""; $v327f72fb62 = ""; if ($pcc2fe66c) { if (substr($pcc2fe66c, 0, 2) != "/*") $v327f72fb62 .= "$pdcf670f6/**\n$pdcf670f6 * " . str_replace("\n", "\n$pdcf670f6 * ", $pcc2fe66c) . "\n$pdcf670f6 */\n"; else $v327f72fb62 .= $pdcf670f6 . str_replace("\n", "\n$pdcf670f6", $pcc2fe66c) . "\n"; } if ($v1335217393) { $v3fb9f41470 = !$v3fb9f41470 && $v1335217393 ? "public" : strtolower($v3fb9f41470); $v327f72fb62 .= $pdcf670f6 . trim(strtolower($v3fb9f41470) . ($v0da73fdf2f ? " abstract" : "") . ($v912f41d02b ? " static" : "") . " function $v5e813b295b ($pf3b79f6d)"); } else $v327f72fb62 .= $pdcf670f6 . trim("function $v5e813b295b ($pf3b79f6d)"); return $v327f72fb62; } private static function f33ac1289a1($v6490ea3a15, $v3ada288ce6, $pfbaa3965, $pc28d161b) { $v6f3e16f956 = $v6490ea3a15; if (is_numeric($v3ada288ce6)) { $v00f73eb9bc = explode("\n", $v6490ea3a15); $pfbaa3965 = $pfbaa3965 > $v3ada288ce6 ? $pfbaa3965 : count($v00f73eb9bc); $v6f3e16f956 = implode("\n", array_slice($v00f73eb9bc, 0, $v3ada288ce6 - 1) ); $v259d35fa15 = $v00f73eb9bc[ $v3ada288ce6 - 1 ]; $v255a19c282 = ""; $v9cd205cadb = explode(" ", $v259d35fa15); $pc37695cb = count($v9cd205cadb); for ($v43dd7d0051 = 0; $v43dd7d0051 < $pc37695cb; $v43dd7d0051++) { if (in_array(strtolower(trim($v9cd205cadb[$v43dd7d0051])), $pc28d161b)) break; else $v255a19c282 .= ($v43dd7d0051 > 0 ? " " : "") . $v9cd205cadb[$v43dd7d0051]; } $v255a19c282 = trim($v255a19c282); if ($v255a19c282) $v6f3e16f956 .= "\n$v255a19c282"; $v259d35fa15 = $v00f73eb9bc[ $pfbaa3965 - 1 ]; $pbd1bc7b0 = strpos($v259d35fa15, "}"); $pbd1bc7b0 = $pbd1bc7b0 !== false ? $pbd1bc7b0 : 0; $v255a19c282 = trim(substr($v259d35fa15, $pbd1bc7b0 + 1)); if ($v255a19c282) $v6f3e16f956 .= "\n$v255a19c282"; $v6f3e16f956 .= "\n" . implode("\n", array_slice($v00f73eb9bc, $pfbaa3965) ); } return $v6f3e16f956; } private static function mb7248d940f3f($pa32be502, $v3dae97c5c8 = false) { $v6ee393d9fb = array(); if (is_dir($pa32be502) && ($v89d33f4133 = opendir($pa32be502)) ) { while( ($v7dffdb5a5b = readdir($v89d33f4133)) !== false) if($v7dffdb5a5b != "." && $v7dffdb5a5b != "..") { $pf3dc0762 = $pa32be502 . "/" . $v7dffdb5a5b; if (is_dir($pf3dc0762)) { $v2cd5d67337 = self::mb7248d940f3f($pf3dc0762, $v3dae97c5c8); $v6ee393d9fb = array_merge($v6ee393d9fb, $v2cd5d67337); } else { $pfbd491a9 = pathinfo($pf3dc0762); if ($pfbd491a9["extension"] == "php") $v6ee393d9fb[] = str_replace("//", "/", $pf3dc0762); } } closedir($v89d33f4133); } return $v6ee393d9fb; } } ?>
